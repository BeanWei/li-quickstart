var Fr=Object.defineProperty,Rr=Object.defineProperties;var Br=Object.getOwnPropertyDescriptors;var Ue=Object.getOwnPropertySymbols;var Ut=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable;var Qt=(e,t,n)=>t in e?Fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))Ut.call(t,n)&&Qt(e,n,t[n]);if(Ue)for(var n of Ue(t))Yt.call(t,n)&&Qt(e,n,t[n]);return e},g=(e,t)=>Rr(e,Br(t));var L=(e,t)=>{var n={};for(var o in e)Ut.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Ue)for(var o of Ue(e))t.indexOf(o)<0&&Yt.call(e,o)&&(n[o]=e[o]);return n};import{u as $r,M as de,N as Or,a as Gr,r as h,i as et,b as _,C as ge,R as Y,o as z,m as sn,G as gt,j as r,c as k,I as Zr,d as Wr,e as ln,f as b,O as an,g as Nt,h as ee,T as Me,k as Ve,l as tt,n as _r,t as cn,D as Qr,F as nt,p as un,q as dn,s as rt,v as j,w as H,x as Ur,y as Yr,P as Mt,A as J,z as Jr,B as Vr,E as Hr,H as Be,J as me,S as V,K as Xr,L as Lt,Q as B,U as F,V as qr,W as P,X as R,Y as Kr,Z as mn,_ as eo,$ as hn,a0 as to,a1 as fn,a2 as pn,a3 as no,a4 as ro,a5 as gn,a6 as yn,a7 as Z,a8 as xn,a9 as oo,aa as He,ab as Te,ac as io,ad as $,ae as Le,af as so,ag as lo,ah as ao,ai as Cn,aj as vn,ak as co,al as uo,am as St,an as mo,ao as ho,ap as le,aq as Se,ar as yt,as as xt,at as fo,au as ne,av as se,aw as ot,ax as po,ay as pe,az as go,aA as yo,aB as xo,aC as Co,aD as vo,aE as D,aF as O,aG as U,aH as K,aI as wo,aJ as Fe,aK as wn,aL as bo,aM as we,aN as be,aO as bn,aP as Jt,aQ as it,aR as No,aS as Mo,aT as Lo,aU as So,aV as Io,aW as Ao,aX as Vt,aY as Nn,aZ as Ht,a_ as ko,a$ as Do,b0 as Eo,b1 as zo,b2 as Mn,b3 as Po,b4 as jo,b5 as To,b6 as Fo,b7 as Ro,b8 as Bo,b9 as Ln,ba as $o,bb as Sn,bc as Ce,bd as Oo,be as Go,bf as Xt,bg as Zo,bh as Wo,bi as _o,bj as In,bk as Qo,bl as An,bm as Uo,bn as Yo,bo as Jo,bp as Vo,bq as Ho,br as Xo,bs as qt,bt as qo,bu as Ko}from"./vendor.5c5dd518.js";const ei=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};ei();const Kt=(e,t,n)=>{if(t!=null&&t.skipErrorHandler)throw e;const{errorConfig:o}=n;if(e.response){let i;if(e.name==="Error"&&(i=((o==null?void 0:o.adaptor)||(a=>a))(e.response.data,e.response),e.info=i,e.data=e.response.data),i=e.info,i){const{message:s="(\u30CE\uFE4F\u30FD)",code:a}=i;switch(i.showType){case 0:break;case 1:de.warning(s);break;case 2:de.error(s);break;case 3:Or.error({content:s,title:a});break;case 9:break;default:de.error(s)}}}else e.request?de.error((o==null?void 0:o.defaultNoneResponseErrorMessage)||"None response! Please retry."):de.error((o==null?void 0:o.defaultRequestErrorMessage)||"Request error, please retry.");throw e};let Ye;const ie={baseURL:window.location.origin+"/api/liql",method:"POST"},ti=()=>Ye||(Ye=Gr.create(ie),Ye),Ae=(e,t={},n={})=>{const o=ti();return console.log(`${e} => `,t),new Promise((i,s)=>{o.request(g(d({},n),{data:{operation:e,variables:t}})).then(a=>{var l;if(a.data.code!==0)try{(((l=ie.errorConfig)==null?void 0:l.errorHandler)||Kt)({response:a,info:a.data},n,ie)}catch(c){s(c)}else{const c=(ie==null?void 0:ie.formatResultAdaptor)||(m=>{var u;return(u=m.data)==null?void 0:u.data});i(c(a))}}).catch(a=>{var l;try{(((l=ie.errorConfig)==null?void 0:l.errorHandler)||Kt)(a,n,ie)}catch(c){s(c)}})})},re=(e,t,n)=>$r(o=>Ae(e,o||t),n),ni=(e,t)=>{for(let n=0;n<e.length;n++)if(t<=e[n])return n;return-1},ri=(e,t)=>{var n;return Array.isArray(e)?t===-1?e[0]:(n=e[t])!=null?n:e[e.length-1]:e},ze=(e,t)=>_(e)?ri(e,t):e,oi=(e,t)=>{const{clientWidth:n}=e,p=t,{breakpoints:o,layout:i,labelAlign:s,wrapperAlign:a,labelCol:l,wrapperCol:c}=p,m=L(p,["breakpoints","layout","labelAlign","wrapperAlign","labelCol","wrapperCol"]),u=ni(o||[],n);return d({layout:ze(i,u),labelAlign:ze(s,u),wrapperAlign:ze(a,u),labelCol:ze(l,u),wrapperCol:ze(c,u)},m)},ii=e=>{const t=h.exports.useRef(null),{breakpoints:n}=e;if(!et(n))return{ref:t,props:e};const[o,i]=h.exports.useState(e),s=()=>{t.current&&i(oi(t.current,e))};return h.exports.useEffect(()=>{const a=()=>{s()},l=new ResizeObserver(a);return t.current&&l.observe(t.current),s(),()=>{l.disconnect()}},[]),{ref:t,props:o}},ke=()=>{const{locale:e}=h.exports.useContext(ge.ConfigContext);return e},$e=()=>{const{prefixCls:e}=h.exports.useContext(ge.ConfigContext);return e};const kn=Y.createContext(null),si=e=>sn(new gt(e)),li=()=>h.exports.useContext(kn),te=z(i=>{var s=i,{children:e,className:t,style:n}=s,o=L(s,["children","className","style"]);var f,x;const a=Oe(),l=d({columnGap:(f=a==null?void 0:a.gridColumnGap)!=null?f:8,rowGap:(x=a==null?void 0:a.gridRowGap)!=null?x:4},o),c=h.exports.useMemo(()=>sn(l!=null&&l.grid?l.grid:new gt(l)),[gt.id(l)]),m=h.exports.useRef(null),u=T("formily-grid",o),p=Pn(o);return h.exports.useLayoutEffect(()=>c.connect(m.current),[c]),r(kn.Provider,{value:c,children:r("div",g(d({},p),{className:k(`${u}-layout`,t),style:g(d({},n),{gridTemplateColumns:c.templateColumns,gap:c.gap}),ref:m,children:e}))})},{forwardRef:!0}),Dn=z(o=>{var i=o,{gridSpan:e,children:t}=i,n=L(i,["gridSpan","children"]);return r("div",g(d({},n),{style:n.style,"data-grid-span":e,children:t}))});Dn.defaultProps={gridSpan:1};te.createFormGrid=si;te.useFormGrid=li;te.GridColumn=Dn;const ai=e=>{const t=h.exports.useMemo(()=>te.createFormGrid({maxColumns:4,maxWidth:240,maxRows:e,shouldVisible:(l,c)=>l.index===c.childSize-1||c.maxRows===1/0?!0:(l.shadowRow||0)<e+1}),[]),n=t.maxRows===1/0,o=t.shadowRows,i=t.fullnessLastColumn?t.shadowRows-1:t.shadowRows;return{grid:t,expanded:n,toggle:()=>{t.maxRows===1/0?t.maxRows=e:t.maxRows=1/0},type:(()=>o<e+1?"incomplete-wrap":i>e?"collapsible":"complete-wrap")()}},T=(e,t)=>{const{getPrefixCls:n}=h.exports.useContext(ge.ConfigContext);return n==null?void 0:n(e,t==null?void 0:t.prefixCls)},ci=Zr,ae=e=>{const i=e,{type:t}=i,n=L(i,["type"]);if(!t)return null;const o=ci[t];return o?r(o,d({},n)):null},fe=Wr(new Map),En=e=>{const t=n=>(n.id&&!fe.has(n.id)&&fe.set(n.id,null),b(h.exports.Fragment,{children:[n.children,r(an,{children:()=>{if(!n.id)return null;const o=fe.get(n.id);return o?Nt.exports.createPortal(o,document.body):null}})]}));return t.defaultProps={id:e},t};function zn(e,t){const n=ln(e);function o(s){fe.has(t)?fe.set(t,s==null?void 0:s()):e&&n.render(r(h.exports.Fragment,{children:s==null?void 0:s()}))}async function i(){var s;fe.has(t)&&fe.set(t,null),e&&((s=e.parentNode)==null||s.removeChild(e),Promise.resolve().then(()=>{n.unmount()}))}return{render:o,unmount:i}}const Ct=async(e="Loading...",t)=>{let n=null,o=setTimeout(()=>{n=de.loading({content:e})},100);try{return await t()}finally{n==null||n(),clearTimeout(o)}},Pn=(e={})=>{const t={};for(let n in e)n.indexOf("data-")>-1&&(t[n]=e[n]);return t},ui=e=>{if(!e.startsWith("http"))return!1;try{return!!new URL(e)}catch{return!1}},jn=h.exports.createContext(void 0),It=h.exports.createContext(void 0),At=()=>h.exports.useContext(jn),Tn=()=>h.exports.useContext(It),Oe=()=>d(d({},At()),Tn()),ce=a=>{var l=a,{shallow:e,children:t,prefixCls:n,className:o,style:i}=l,s=L(l,["shallow","children","prefixCls","className","style"]);const{ref:c,props:m}=ii(s),u=At(),p=T("form",{prefixCls:n}),f=T("formily-layout",{prefixCls:n}),x=k(f,{[`${p}-${m.layout}`]:!0,[`${p}-rtl`]:m.direction==="rtl",[`${p}-${m.size}`]:m.size},o);return r("div",{ref:c,className:x,style:i,children:(()=>{const v=d({},u);return e?(m.size&&(v.size=m.size),m.colon&&(v.colon=m.colon)):Object.assign(v,m),r(jn.Provider,{value:v,children:r(It.Provider,{value:e?m:void 0,children:t})})})()})};ce.defaultProps={shallow:!0};ce.useFormDeepLayout=At;ce.useFormShallowLayout=Tn;ce.useFormLayout=Oe;const di=e=>un(e)||dn(e)||rt(e)||Y.isValidElement(e),mi=e=>di(e)?{title:e}:e;function Xe(e,t,n){(ee(t)||Y.isValidElement(t))&&(n=t,t="form-drawer");const o={host:document.createElement("div"),openMiddlewares:[],form:null,promise:null},i=zn(o.host,t),s=mi(e),a=g(d({width:"60%"},s),{title:r(Me,{children:s.title}),footer:null,onCancel:()=>{var u;((u=s==null?void 0:s.onCancel)==null?void 0:u.call(s))!==!1&&m.close()},afterClose:()=>{var u;(u=s==null?void 0:s.afterClose)==null||u.call(s),i.unmount()}}),l=z(()=>r(h.exports.Fragment,{children:ee(n)?n(o.form):n})),c=(u=!0)=>r(Qr,g(d({autoFocus:!1},a),{visible:u,children:r(nt,{form:o.form,children:r(l,{})})}));document.body.appendChild(o.host);const m={forOpen:u=>(ee(u)&&o.openMiddlewares.push(u),m),open:u=>(o.promise||(o.promise=new Promise(async(p,f)=>{try{u=await Ct(a.loadingText,()=>Ve(u,o.openMiddlewares)),o.form=o.form||tt(g(d({},u),{effects(x){var y;_r(()=>{p(cn(x.values)),m.close()}),(y=u==null?void 0:u.effects)==null||y.call(u,x)}}))}catch(x){f(x)}i.render(()=>c(!1)),setTimeout(()=>{i.render(()=>c(!0))},16)})),o.promise),close:()=>{!o.host||i.render(()=>c(!1))}};return m}const hi=e=>{const t=h.exports.useRef(null),[n,o]=h.exports.useState(null),i=h.exports.useRef(null),s=T("drawer");return h.exports.useLayoutEffect(()=>{var l;const a=(l=t.current)==null?void 0:l.closest(`.${s}-scroll`);a&&(i.current||(i.current=a.querySelector(`.${s}-footer`),i.current||(i.current=document.createElement("div"),i.current.classList.add(`${s}-footer`),a.appendChild(i.current))),o(i.current))}),i.current=n,r("div",{ref:t,style:{display:"none"},children:n&&Nt.exports.createPortal(e.children,n)})};Xe.Footer=hi;Xe.Portal=En("form-drawer");const fi=e=>{var n,o,i,s,a,l,c,m,u,p,f,x,y,v,N,C,w,M,I,E,G,X;const t=Oe();return g(d({},e),{layout:(o=(n=e.layout)!=null?n:t.layout)!=null?o:"horizontal",colon:(i=e.colon)!=null?i:t.colon,labelAlign:t.layout==="vertical"?(a=(s=e.labelAlign)!=null?s:t.labelAlign)!=null?a:"left":(c=(l=e.labelAlign)!=null?l:t.labelAlign)!=null?c:"right",labelWrap:(m=e.labelWrap)!=null?m:t.labelWrap,labelWidth:(u=e.labelWidth)!=null?u:t.labelWidth,wrapperWidth:(p=e.wrapperWidth)!=null?p:t.wrapperWidth,labelCol:(f=e.labelCol)!=null?f:t.labelCol,wrapperCol:(x=e.wrapperCol)!=null?x:t.wrapperCol,wrapperAlign:(y=e.wrapperAlign)!=null?y:t.wrapperAlign,wrapperWrap:(v=e.wrapperWrap)!=null?v:t.wrapperWrap,fullness:(N=e.fullness)!=null?N:t.fullness,size:(C=e.size)!=null?C:t.size,asterisk:e.asterisk,feedbackIcon:e.feedbackIcon,feedbackLayout:(M=(w=e.feedbackLayout)!=null?w:t.feedbackLayout)!=null?M:"loose",tooltipLayout:(E=(I=e.tooltipLayout)!=null?I:t.tooltipLayout)!=null?E:"icon",tooltipIcon:(X=(G=e.tooltipIcon)!=null?G:t.tooltipIcon)!=null?X:r(Yr,{})})};function pi(){const[e,t]=h.exports.useState(!1),n=h.exports.useRef(),o=h.exports.useRef(),i=Oe(),s=JSON.stringify(i.labelCol);return h.exports.useEffect(()=>{requestAnimationFrame(()=>{if(n.current&&o.current){const a=o.current.getBoundingClientRect().width,l=n.current.getBoundingClientRect().width;a&&l&&l<a?e||t(!0):e&&t(!1)}})},[s]),{overflow:e,containerRef:n,contentRef:o}}const gi={error:r(Jr,{}),success:r(Vr,{}),warning:r(Hr,{}),pending:r(Be,{})},kt=n=>{var o=n,{children:e}=o,t=L(o,["children"]);const i=fi(t),{containerRef:s,contentRef:a,overflow:l}=pi(),{label:c,style:m,layout:u,colon:p,addonBefore:f,addonAfter:x,asterisk:y,feedbackStatus:v,extra:N,feedbackText:C,fullness:w,feedbackLayout:M,feedbackIcon:I,getPopupContainer:E,labelWidth:G,wrapperWidth:X,labelCol:Ze,wrapperCol:We,labelAlign:Lr,wrapperAlign:Sr="left",size:Wt,labelWrap:Ir,wrapperWrap:Ar,tooltipLayout:ht,tooltip:xe,tooltipIcon:kr}=i,_e=d({},i.labelStyle),Qe=d({},i.wrapperStyle);let Ee=!1;(G||X)&&(G&&(_e.width=G==="auto"?void 0:G,_e.maxWidth=G==="auto"?void 0:G),X&&(Qe.width=X==="auto"?void 0:X,Qe.maxWidth=X==="auto"?void 0:X)),(Ze||We)&&!_e.width&&!Qe.width&&(Ee=!0);const S=$e(),Dr=M==="popover"&&v?r(Mt,{position:"top",content:b("div",{className:k({[`${S}-form-item-${v}-help`]:!!v,[`${S}-form-item-help`]:!0}),children:[gi[v]," ",C]}),popupVisible:!!C,getPopupContainer:E,children:e}):e,Er={},zr=()=>l?b("div",{children:[r("div",{children:c}),r("div",{children:xe})]}):xe,Pr=()=>{const _t=b("label",{ref:a,children:[y&&r("strong",{className:`${S}-form-item-symbol`,children:r("svg",{fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em",children:r("path",{d:"M583.338667 17.066667c18.773333 0 34.133333 15.36 34.133333 34.133333v349.013333l313.344-101.888a34.133333 34.133333 0 0 1 43.008 22.016l42.154667 129.706667a34.133333 34.133333 0 0 1-21.845334 43.178667l-315.733333 102.4 208.896 287.744a34.133333 34.133333 0 0 1-7.509333 47.786666l-110.421334 80.213334a34.133333 34.133333 0 0 1-47.786666-7.509334L505.685333 706.218667 288.426667 1005.226667a34.133333 34.133333 0 0 1-47.786667 7.509333l-110.421333-80.213333a34.133333 34.133333 0 0 1-7.509334-47.786667l214.186667-295.253333L29.013333 489.813333a34.133333 34.133333 0 0 1-22.016-43.008l42.154667-129.877333a34.133333 34.133333 0 0 1 43.008-22.016l320.512 104.106667L412.672 51.2c0-18.773333 15.36-34.133333 34.133333-34.133333h136.533334z"})})}),r(Me,{children:c})]});return ht==="text"&&xe||l?r(me,{position:"top",content:zr(),children:_t}):_t},jr=()=>{if(xe&&ht==="icon"&&!l)return r("span",{className:`${S}-form-label-item-tooltip-icon`,children:r(me,{position:"top",content:xe,children:kr})})},Tr=()=>c?b(J.Col,{ref:s,span:Ee&&!!Ze?Ze:void 0,className:k(`${S}-form-item-label`,`${S}-form-label-item`,{[`${S}-form-label-item-tooltip`]:xe&&ht==="text"||l,[`${S}-form-label-item-flex`]:!Ee||!Ze}),style:_e,children:[Pr(),jr(),r("span",{className:`${S}-form-item-colon`,children:p?":":""})]}):null;return b(J.Row,g(d({},Pn(t)),{div:u!=="horizontal","data-grid-span":t.gridSpan,className:k({[`${S}-form-item`]:!0,[`${S}-form-item-layout-${u}`]:!0,[`${S}-form-item-${v}`]:!!v,[`${S}-form-item-feedback-has-text`]:!!C,[`${S}-form-item-size-${Wt}`]:!!Wt,[`${S}-form-item-feedback-layout-${M}`]:!!M,[`${S}-form-item-fullness`]:!!w||!!I,[`${S}-form-item-label-align-${Lr}`]:!0,[`${S}-form-item-control-align-${Sr}`]:!0,[`${S}-form-item-label-wrap`]:!!Ir,[`${S}-form-item-control-wrap`]:!!Ar,[t.className||""]:!!t.className}),style:d(d({},m),Er),children:[Tr(),b(J.Col,{className:k(`${S}-form-item-wrapper`,{[`${S}-item-wrapper-flex`]:!Ee||!We||!c}),span:Ee&&!!We?We:void 0,children:[b("div",{className:k(`${S}-form-item-control-content`),children:[f&&r("div",{className:k(`${S}-form-item-addon-before`),children:f}),b("div",{style:Qe,className:k({[`${S}-form-item-control-content-component`]:!0,[`${S}-form-item-control-content-component-has-feedback-icon`]:!!I}),children:[r(It.Provider,{value:void 0,children:Dr}),I&&r("div",{className:k(`${S}-form-item-feedback-icon`),children:I})]}),x&&r("div",{className:k(`${S}-form-item-addon-after`),children:x})]}),!!C&&M!=="popover"&&M!=="none"&&r("div",{className:k({[`${S}-form-message`]:!0,[`${S}-form-item-${v}-help`]:!!v,[`${S}-form-item-help`]:!0,[`${S}-form-item-help-enter`]:!0,[`${S}-form-item-help-enter-active`]:!0}),children:C}),N&&r("div",{className:k(`${S}-form-item-extra`),children:N})]})]}))},Fn=j(kt,H((e,t)=>{if(Ur(t))return{label:t.title||e.label,asterisk:e.asterisk,extra:e.extra||t.description};if(!t)return e;const n=()=>t.validating?"pending":t.decoratorProps.feedbackStatus||t.validateStatus,o=()=>{const s=a=>a.reduce((l,c,m)=>c?m<a.length-1?l.concat([c,", "]):l.concat([c]):l,[]);if(!t.validating){if(e.feedbackText)return e.feedbackText;if(t.selfErrors.length)return s(t.selfErrors);if(t.selfWarnings.length)return s(t.selfWarnings);if(t.selfSuccesses.length)return s(t.selfSuccesses)}},i=()=>t.required&&t.pattern!=="readPretty"?!0:"asterisk"in e?e.asterisk:!1;return{label:e.label||t.title,feedbackStatus:n(),feedbackText:o(),asterisk:i(),extra:e.extra||t.description}}));Fn.BaseItem=kt;function Rn(e){const t=yi(),n=window.getComputedStyle(e).backgroundColor;return n!=t?n:e.parentElement?Rn(e.parentElement):t}function yi(){let e=document.createElement("div");document.head.appendChild(e);let t=window.getComputedStyle(e).backgroundColor;return document.head.removeChild(e),t}const oe=o=>{var i=o,{align:e,gutter:t}=i,n=L(i,["align","gutter"]);const s=T("formily-button-group");return r(V,g(d({},n),{size:t,className:k(s,n.className),style:g(d({},n.style),{justifyContent:e==="left"?"flex-start":e==="right"?"flex-end":"center",display:"flex"}),children:n.children}))};oe.defaultProps={align:"left"};oe.FormItem=n=>{var o=n,{gutter:e}=o,t=L(o,["gutter"]);return r(kt,g(d({},t),{label:" ",style:g(d({margin:0,padding:0},t.style),{width:"100%"}),colon:!1,children:Array.isArray(t.children)?r(V,{size:e,children:t.children}):t.children}))};oe.Sticky=n=>{var o=n,{align:e}=o,t=L(o,["align"]);const i=h.exports.useRef(null),[s,a]=h.exports.useState("transparent"),l=T("formily-button-group");return h.exports.useLayoutEffect(()=>{if(i.current){const c=Rn(i.current);c!==s&&a(c)}}),r(Xr,g(d({},t),{className:k(`${l}-sticky`,t.className),style:d({backgroundColor:s},t.style),bottom:!0,children:r("div",{ref:i,className:`${l}-sticky-inner`,style:g(d({},t.style),{justifyContent:e==="left"?"flex-start":e==="right"?"flex-end":"center"}),children:t.children})}))};oe.Sticky.defaultProps={align:"left"};const Dt=z(s=>{var a=s,{forSubmit:e,forSubmitFailed:t,forSubmitSuccess:n,forSubmitSuccessTo:o}=a,i=L(a,["forSubmit","forSubmitFailed","forSubmitSuccess","forSubmitSuccessTo"]);const l=Lt(),c=B(),{t:m}=F();let u;try{u=qr()}catch{u=p=>{window.location=p}}return r(P,g(d({htmlType:e?"button":"submit",type:"primary"},i),{loading:i.loading!==void 0?i.loading:l.submitting,onClick:p=>{i.onClick&&i.onClick(p)===!1||l.submit(f=>{if(e)return Ae(e,f)}).then(o?()=>{u(o)}:n).catch(t)},children:i.children?i.children:m((c==null?void 0:c["x-content"])||(c==null?void 0:c.title))}))},{forwardRef:!0}),xi=z(e=>{const v=e,{initialValues:t,forInit:n,forInitVariables:o,forSubmitSuccess:i,isMenuItem:s,actionText:a,drawerProps:l,layoutProps:c}=v,m=L(v,["initialValues","forInit","forInitVariables","forSubmitSuccess","isMenuItem","actionText","drawerProps","layoutProps"]),u=B(),p=R(),{locale:f}=h.exports.useContext(ge.ConfigContext),{t:x}=F(),y=()=>{const N=Xe(g(d({},l),{title:x((l==null?void 0:l.title)||a||p.title)}),()=>b(ce,g(d({},c),{children:[r(Bt,{children:r(Ie,{schema:u.items,onlyRenderProperties:!0})}),u.properties&&r(Xe.Footer,{children:r(oe,{align:"right",children:u.reduceProperties((C,w)=>w["x-component"]==="Action.FormDrawer.Cancel"?C.concat([h.exports.createElement(P,g(d(d({},l==null?void 0:l.cancelButtonProps),w["x-component-props"]),{key:w.name,onClick:()=>{N.close()}}),w.title?x(w.title):f==null?void 0:f.Drawer.cancelText)]):w["x-component"]==="Action.FormDrawer.Submit"?C.concat([h.exports.createElement(Dt,g(d(d({},l==null?void 0:l.cancelButtonProps),w["x-component-props"]),{key:w.name,forSubmitSuccess:M=>{N.close(),i==null||i(M)}}),w.title?x(w.title):f==null?void 0:f.Drawer.okText)]):C,[])})})]}))).forOpen((C,w)=>{n?Ae(n,o).then(M=>{w({initialValues:d(d({},t),M),editable:u.reduceProperties((I,E)=>E["x-component"]==="Action.FormDrawer.Submit"?I.concat([!0]):I,[]).length>0})}):w({initialValues:t,editable:u.reduceProperties((M,I)=>I["x-component"]==="Action.FormDrawer.Submit"?M.concat([!0]):M,[]).length>0})});N.open()};return s?r("div",{onClick:y,children:x(a||p.title)}):r(P,g(d({},m),{onClick:y,icon:m.icon&&typeof m.icon=="string"?r(ae,{type:m.icon}):m.icon,children:x(a||p.title)}))});var Bn=xi;const Ci=e=>un(e)||dn(e)||rt(e)||Y.isValidElement(e),vi=e=>Ci(e)?{title:e}:e;function Pe(e,t,n){(ee(t)||Y.isValidElement(t))&&(n=t,t="form-modal");const o={host:document.createElement("div"),form:null,promise:null,openMiddlewares:[],confirmMiddlewares:[],cancelMiddlewares:[]},i=zn(o.host,t),s=vi(e),a=g(d({},s),{afterClose:()=>{var u;(u=s==null?void 0:s.afterClose)==null||u.call(s),i.unmount()}}),l=z(()=>r(h.exports.Fragment,{children:ee(n)?n(o.form):n})),c=(u=!0,p,f)=>r(an,{children:()=>{var x;return r(Kr,g(d({},a),{title:a.title&&r(Me,{children:a.title}),visible:u,confirmLoading:(x=o.form)==null?void 0:x.submitting,onCancel:()=>{var y;((y=a==null?void 0:a.onCancel)==null?void 0:y.call(a))!==!1&&(f==null||f())},onOk:async y=>{var v;((v=a==null?void 0:a.onOk)==null?void 0:v.call(a,y))!==!1&&(p==null||p())},children:r(nt,{form:o.form,children:r(l,{})})}))}});document.body.appendChild(o.host);const m={forOpen:u=>(ee(u)&&o.openMiddlewares.push(u),m),forConfirm:u=>(ee(u)&&o.confirmMiddlewares.push(u),m),forCancel:u=>(ee(u)&&o.cancelMiddlewares.push(u),m),open:async u=>(o.promise||(o.promise=new Promise(async(p,f)=>{try{u=await Ct(a.loadingText,()=>Ve(u,o.openMiddlewares)),o.form=o.form||tt(u)}catch(x){f(x)}i.render(()=>c(!0,()=>{o.form.submit(async()=>{await Ve(o.form,o.confirmMiddlewares),p(cn(o.form.values)),m.close()}).catch(()=>{})},async()=>{await Ct(a.loadingText,()=>Ve(o.form,o.cancelMiddlewares)),m.close()}))})),o.promise),close:()=>{!o.host||i.render(()=>c(!1))}};return m}const wi=e=>{const t=h.exports.useRef(null),[n,o]=h.exports.useState(null),i=h.exports.useRef(null),s=T("modal");return h.exports.useLayoutEffect(()=>{var l;const a=(l=t.current)==null?void 0:l.closest(`.${s}-content`);a&&(i.current||(i.current=a.querySelector(`.${s}-footer`),i.current||(i.current=document.createElement("div"),i.current.classList.add(`${s}-footer`),a.appendChild(i.current))),o(i.current))}),i.current=n,r("div",{ref:t,style:{display:"none"},children:n&&Nt.exports.createPortal(e.children,n)})};Pe.Footer=wi;Pe.Portal=En("form-modal");const bi=z(e=>{const v=e,{initialValues:t,forInit:n,forInitVariables:o,forSubmitSuccess:i,isMenuItem:s,actionText:a,modalProps:l,layoutProps:c}=v,m=L(v,["initialValues","forInit","forInitVariables","forSubmitSuccess","isMenuItem","actionText","modalProps","layoutProps"]),u=B(),p=R(),{locale:f}=h.exports.useContext(ge.ConfigContext),{t:x}=F(),y=()=>{const N=Pe(g(d({},l),{title:x((l==null?void 0:l.title)||a||p.title)}),()=>b(ce,g(d({},c),{children:[r(Bt,{children:r(Ie,{schema:u,onlyRenderProperties:!0})}),u.properties&&r(Pe.Footer,{children:r(oe,{align:"right",children:u.reduceProperties((C,w)=>w["x-component"]==="Action.FormModal.Cancel"?C.concat([h.exports.createElement(P,g(d(d({},l==null?void 0:l.cancelButtonProps),w["x-component-props"]),{key:w.name,onClick:()=>{N.close()}}),w.title?x(w.title):f==null?void 0:f.Modal.cancelText)]):w["x-component"]==="Action.FormModal.Submit"?C.concat([h.exports.createElement(Dt,g(d(d({},l==null?void 0:l.cancelButtonProps),w["x-component-props"]),{key:w.name,forSubmitSuccess:M=>{N.close(),i==null||i(M)}}),w.title?x(w.title):f==null?void 0:f.Modal.okText)]):C,[])})})]}))).forOpen((C,w)=>{n?Ae(n,o).then(M=>{w({initialValues:d(d({},t),M),editable:u.reduceProperties((I,E)=>E["x-component"]==="Action.FormModal.Submit"?I.concat([!0]):I,[]).length>0})}):w({initialValues:t,editable:u.reduceProperties((M,I)=>I["x-component"]==="Action.FormModal.Submit"?M.concat([!0]):M,[]).length>0})});N.open()};return r(Pe.Portal,{children:s?r("div",{onClick:y,children:x(a||p.title)}):r(P,g(d({},m),{onClick:y,icon:m.icon&&typeof m.icon=="string"?r(ae,{type:m.icon}):m.icon,children:x(a||p.title)}))})});var $n=bi;const Et=e=>r(h.exports.Fragment,{});Et.FormDrawer=Bn;Et.FormModal=$n;const On=h.exports.createContext(null),zt=h.exports.createContext(null),De=()=>h.exports.useContext(On),Ge=e=>{const t=h.exports.useContext(zt);return t?t.index:e},Ni=e=>{const t=h.exports.useContext(zt);return t?t.record:e},Gn=(e,t)=>{var n,o,i,s,a,l,c;return _(e)?no(e):Array.isArray(t==null?void 0:t.items)?Gn(e,t.items[0]):((n=t==null?void 0:t.items)==null?void 0:n.type)==="array"?[]:((o=t==null?void 0:t.items)==null?void 0:o.type)==="boolean"?!0:((i=t==null?void 0:t.items)==null?void 0:i.type)==="date"||((s=t==null?void 0:t.items)==null?void 0:s.type)==="datetime"?"":((a=t==null?void 0:t.items)==null?void 0:a.type)==="number"?0:((l=t==null?void 0:t.items)==null?void 0:l.type)==="object"?{}:((c=t==null?void 0:t.items)==null?void 0:c.type)==="string"?"":null},A=e=>{const t=R(),n=B();return r(On.Provider,{value:{field:t,schema:n,props:e},children:e.children})};A.Item=n=>{var o=n,{children:e}=o,t=L(o,["children"]);return r(zt.Provider,{value:t,children:r(mn,{value:{$record:t.record,$index:t.index},children:e})})};const Mi=eo(e=>{const t=T("formily-array-base");return r(ro,g(d({},e),{className:k(`${t}-sort-handle`,e.className),style:d({},e.style)}))});A.SortHandle=e=>{var n;const t=De();return!t||((n=t.field)==null?void 0:n.pattern)!=="editable"?null:r(Mi,d({},e))};A.Index=e=>{const t=Ge()||0,n=T("formily-array-base");return b("span",g(d({},e),{className:`${n}-index`,children:["#",t+1,"."]}))};A.Addition=e=>{var s,a,l;const t=R(),n=De(),{t:o}=F(),i=T("formily-array-base");return!n||((s=n.field)==null?void 0:s.pattern)!=="editable"&&((a=n.field)==null?void 0:a.pattern)!=="disabled"?null:r(P,g(d({type:"dashed",long:!0},e),{disabled:rt(t==null?void 0:t.disabled)?t==null?void 0:t.disabled:(l=n.field)==null?void 0:l.disabled,className:k(`${i}-addition`,e.className),onClick:c=>{var u,p,f,x,y,v,N,C,w,M,I;if((u=n.props)!=null&&u.disabled)return;const m=Gn(e.defaultValue,n.schema);e.method==="unshift"?((f=(p=n.field)==null?void 0:p.unshift)==null||f.call(p,m),(y=(x=n.props)==null?void 0:x.onAdd)==null||y.call(x,0)):((N=(v=n.field)==null?void 0:v.push)==null||N.call(v,m),(I=(C=n.props)==null?void 0:C.onAdd)==null||I.call(C,((M=(w=n==null?void 0:n.field)==null?void 0:w.value)==null?void 0:M.length)-1)),e.onClick&&e.onClick(c)},icon:r(hn,{}),children:o(e.title||t.title)}))};A.Remove=Y.forwardRef((e,t)=>{var s;const n=Ge(e.index)||0,o=De(),i=T("formily-array-base");return!o||((s=o.field)==null?void 0:s.pattern)!=="editable"?null:r(to,g(d({},e),{className:k(`${i}-remove`,e.className),ref:t,onClick:a=>{var l,c,m,u,p;(l=o.props)!=null&&l.disabled||(a.stopPropagation(),(m=(c=o.field)==null?void 0:c.remove)==null||m.call(c,n),(p=(u=o.props)==null?void 0:u.onRemove)==null||p.call(u,n),e.onClick&&e.onClick(a))}}))});A.MoveDown=Y.forwardRef((e,t)=>{var s;const n=Ge(e.index)||0,o=De(),i=T("formily-array-base");return!o||((s=o.field)==null?void 0:s.pattern)!=="editable"?null:r(fn,g(d({},e),{className:k(`${i}-move-down`,e.className),ref:t,onClick:a=>{var l,c,m,u,p;(l=o.props)!=null&&l.disabled||(a.stopPropagation(),(m=(c=o.field)==null?void 0:c.moveDown)==null||m.call(c,n),(p=(u=o.props)==null?void 0:u.onMoveDown)==null||p.call(u,n),e.onClick&&e.onClick(a))}}))});A.MoveUp=Y.forwardRef((e,t)=>{var s;const n=Ge(e.index)||0,o=De(),i=T("formily-array-base");return!o||((s=o.field)==null?void 0:s.pattern)!=="editable"?null:r(pn,g(d({},e),{className:k(`${i}-move-up`,e.className),ref:t,onClick:a=>{var l,c,m,u;(l=o.props)!=null&&l.disabled||(a.stopPropagation(),(c=o==null?void 0:o.field)==null||c.moveUp(n),(u=(m=o==null?void 0:o.props)==null?void 0:m.onMoveUp)==null||u.call(m,n),e.onClick&&e.onClick(a))}}))});A.useArray=De;A.useIndex=Ge;A.useRecord=Ni;A.mixin=e=>(e.Index=A.Index,e.SortHandle=A.SortHandle,e.Addition=A.Addition,e.Remove=A.Remove,e.MoveDown=A.MoveDown,e.MoveUp=A.MoveUp,e.useArray=A.useArray,e.useIndex=A.useIndex,e.useRecord=A.useRecord,e);const Li=gn(e=>{const t=T("formily-array-items");return r("div",g(d({},e),{className:k(`${t}-item`,e.className),children:e.children}))}),Si=yn(e=>{const t=T("formily-array-items");return r("div",g(d({},e),{className:k(`${t}-list`,e.className),children:e.children}))}),Ii=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Addition"))>-1},Ai=()=>B().reduceProperties((t,n,o)=>Ii(n)?r(Z,{schema:n,name:o}):t,null),st=z(e=>{const t=R(),n=T("formily-array-items"),o=B(),i=Ai(),s=Array.isArray(t.value)?t.value:[];if(!o)throw new Error("can not found schema object");return r(A,{children:b("div",g(d({},e),{onChange:()=>{},className:k(n,e.className),children:[r(Si,{useDragHandle:!0,lockAxis:"y",helperClass:`${n}-sort-helper`,onSortEnd:({oldIndex:a,newIndex:l})=>{t.move(a,l)},children:s==null?void 0:s.map((a,l)=>{const c=Array.isArray(o.items)?o.items[l]||o.items[0]:o.items;return r(A.Item,{index:l,record:a,children:r(Li,{index:l,children:r("div",{className:`${n}-item-inner`,children:c&&r(Z,{schema:c,name:l})})},`item-${l}`)},l)})}),i]}))})});st.displayName="ArrayItems";st.Item=e=>{const t=T("formily-array-items");return r("div",g(d({},e),{onChange:()=>{},className:k(`${t}-${e.type||"card"}`,e.className),children:e.children}))};var on;(on=A.mixin)==null||on.call(A,st);const ki=gn(e=>r("tr",d({},e))),Di=yn(e=>r("tbody",d({},e))),lt=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Column"))>-1},Ei=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Operations"))>-1},Zn=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Addition"))>-1},Wn=()=>{const e=R(),t=B(),{t:n}=F(),o=s=>{var a,l,c;if(lt(s)||Ei(s)||Zn(s)){if(!((a=s["x-component-props"])!=null&&a.dataIndex)&&!s.name)return[];const m=((l=s["x-component-props"])==null?void 0:l.dataIndex)||s.name,u=e.query(e.address.concat(m)).take(),p=((c=u==null?void 0:u.component)==null?void 0:c[1])||s["x-component-props"]||{},f=(u==null?void 0:u.display)||s["x-display"];return[{name:m,display:f,field:u,schema:s,columnProps:g(d({},p),{title:n(p.title)})}]}else if(s.properties)return s.reduceProperties((m,u)=>m.concat(o(u)),[]);return[]},i=s=>{if(!s)return[];const a=[];return(et(s)?s:[s]).reduce((c,m)=>{const u=o(m);return u?c.concat(u):c},a)};if(!t)throw new Error("can not found schema object");return i(t.items)},zi=(e,t)=>t.reduce((n,{name:o,columnProps:i,schema:s,display:a},l)=>a!=="visible"||!lt(s)?n:n.concat(g(d({},i),{key:l,dataIndex:o,render:(c,m)=>{const u=e.indexOf(m);return r(A.Item,{index:u,record:m,children:r(Z,{schema:s,name:u,onlyRenderProperties:!0})})}})),[]),Pi=()=>B().reduceProperties((t,n,o)=>Zn(n)?r(Z,{schema:n,name:o}):t,null),ji=e=>{var x;const[t,n]=h.exports.useState(1),o=T("formily-array-table"),i=e.pageSize||10,s=e.size||"default",a=e.dataSource||[],l=(t-1)*i,c=l+i-1,m=(a==null?void 0:a.length)||0,u=Math.ceil(m/i),p=y=>{n(y)};h.exports.useEffect(()=>{u>0&&u<t&&p(u)},[u,t]);const f=()=>{if(!(u<=1))return r("div",{className:`${o}-pagination`,children:r(oo,g(d({},e),{simple:!0,pageSize:i,current:t,total:a.length,size:s,sizeCanChange:!1,onChange:p}))})};return r(h.exports.Fragment,{children:(x=e.children)==null?void 0:x.call(e,a==null?void 0:a.slice(l,c+1),f())})},Ti=e=>r(ki,d({index:e.index||0},e)),at=z(e=>{const t=h.exports.useRef(null),n=R(),o=T("formily-array-table"),i=Array.isArray(n.value)?n.value.slice():[],s=Wn(),a=zi(i,s),l=rt(e.pagination)?{}:e.pagination,c=Pi(),m=p=>i.indexOf(p).toString(),u=p=>{const f=document.body.querySelector(`.${o}-sort-helper`);if(f){const x=p.querySelectorAll("td");requestAnimationFrame(()=>{f.querySelectorAll("td").forEach((y,v)=>{x[v]&&(y.style.width=getComputedStyle(x[v]).width)})})}};return r(ji,g(d({},l),{dataSource:i,children:(p,f)=>r("div",{ref:t,className:o,children:b(A,{children:[r(xn,g(d({size:"small",border:!0,rowKey:m},e),{onChange:()=>{},pagination:!1,columns:a,data:p,components:{body:{tbody:x=>r(Di,d({useDragHandle:!0,lockAxis:"y",helperClass:`${o}-sort-helper`,helperContainer:()=>{var y;return(y=t.current)==null?void 0:y.querySelector("tbody")},onSortStart:({node:y})=>{u(y)},onSortEnd:({oldIndex:y,newIndex:v})=>{n.move(y,v)}},x)),row:Ti}}})),r("div",{style:{marginTop:5,marginBottom:5},children:f}),s.map((x,y)=>{if(!!lt(x.schema))return Y.createElement(Z,{name:x.name,schema:x.schema,onlyRenderSelf:!0,key:y})}),c]})})}))});at.displayName="ArrayTable";at.Column=()=>r(h.exports.Fragment,{});A.mixin(at);const Fi=e=>e.src?r(He,g(d({shape:e.shape||"circle",size:e.size},e),{children:r("img",{alt:e.alt,src:e.src})})):r(He,g(d({},e),{children:e.children})),Ri=e=>r(Te,g(d({style:{marginBottom:24},bordered:!1},e),{children:e.children})),Bi=j(io,H({dataSource:"options"},(e,t)=>g(d({},e),{suffixIcon:(t==null?void 0:t.loading)||(t==null?void 0:t.validating)?r(Be,{}):e.suffixIcon})),$(e=>{const{fieldNames:t=so}=e,n=Le(e.value),o=n.length;let s=R().dataSource;const a=[];for(const l of n)if(typeof l=="object")a.push(l);else{const c=s==null?void 0:s.find(m=>m[t.value]===l);s=(c==null?void 0:c[t.children])||[],a.push(c||{label:l,value:l})}return r("div",{children:a.map((l,c)=>b("span",{children:[typeof l=="object"?l[t.label]:l,o>c+1&&" / "]},c))})})),_n=h.exports.createContext({data:[],loading:!1});function $i(e,t="download"){if(!e)return;const n=e.getCanvas();n.get("timeline").stopAllAnimations();const o=n.get("el").toDataURL({format:"png",quality:1});let i=document.createElement("a");i.href=o,i.download=`${t}-${new Date().toLocaleDateString()}.png`,i.click()}const Oi=j(e=>{const x=e,{forInit:t="",forInitVariables:n,title:o,subTitle:i,gridSpan:s}=x,a=L(x,["forInit","forInitVariables","title","subTitle","gridSpan"]),l=B(),c=h.exports.useRef(),{t:m}=F(),{data:u=[],loading:p,run:f}=re(t,n,{refreshDeps:[n]});return r(_n.Provider,{value:{data:u,loading:p,chartRef:c},children:b(Te,g(d({},a),{"data-grid-span":s,children:[b(J.Row,{justify:"space-between",align:"center",style:{marginBottom:16},children:[r(J.Col,{flex:"auto",children:b(lo.Paragraph,{style:{marginBottom:0,fontSize:16,fontWeight:500},children:[m(o||l.title),i&&r("span",{style:{fontSize:12,fontWeight:400,marginLeft:4,color:"var(--color-text-3)"},children:m(i)})]})}),r(J.Col,{flex:"60px",children:b(V,{size:8,children:[r(P,{type:"text",iconOnly:!0,style:{color:"var(--color-text-2)"},children:r(ao,{onClick:()=>{var y;$i((y=c.current)==null?void 0:y.plot.chart,m(o||l.title))}})}),r(P,{type:"text",iconOnly:!0,style:{color:"var(--color-text-2)"},children:r(Cn,{onClick:()=>f()})})]})})]}),e.children]}))})});const Gi=({spec:e,chartRef:t})=>{const n=h.exports.useRef(null),[o,i]=h.exports.useState(null),[s,a]=h.exports.useState(null),l=$e();return h.exports.useEffect(()=>{if(e&&(n==null?void 0:n.current)){const c=uo(e,n==null?void 0:n.current);a(c),i(c.constructor.name)}},[e]),h.exports.useEffect(()=>{e===null&&(i(null),s&&s.destroy(),a(null))},[e]),h.exports.useImperativeHandle(t,()=>({chartType:o,plot:s})),r("div",{className:`${l}-autochart-canvas-layer`,children:r("div",{className:"canvas-content",children:r("div",{className:"feedback-layer",ref:n})})})},Zi=()=>{var n;const e=$e(),t=ke();return r("div",{className:`${e}-autochart-nodata-layer`,children:b("div",{className:`${e}-autochart-nodata-content`,children:[r("div",{style:{marginBottom:16},children:r("img",{src:"https://gw.alipayobjects.com/zos/basement_prod/9a59280d-8f23-4234-b5cf-02956a91b6ff.svg",alt:""})}),r("div",{children:(n=t.Chart)==null?void 0:n.nodata})]})})},Wi=n=>{var o=n,{chartRef:e}=o,t=L(o,["chartRef"]);var p,f;const i=h.exports.useRef(null),s=new co,[a,l]=h.exports.useState([]),[c,m]=h.exports.useState(0),u=$e();return h.exports.useEffect(()=>{var x;if(((x=t.data)==null?void 0:x.length)>0){const y=s.advise(t);l(y),m(0)}},[t.data]),r("div",{className:`${u}-autochart-container`,ref:i,children:(p=t.data)!=null&&p.length?r(Gi,{chartRef:e,spec:((f=a[c])==null?void 0:f.spec)||null}):r(Zi,{})})},_i=j(e=>{const t=h.exports.useContext(_n);return r(vn,{loading:t.loading,style:{display:"block"},children:r(Wi,g(d({},e),{chartRef:t.chartRef,data:t.data.length?t.data:e.data}))})});var Qi=_i;const Qn=e=>r(Te,{bodyStyle:{padding:0},children:r(te,g(d({},e),{children:e.children}))});Qn.AutoChart=Qi;const Pt=j(St,H({value:"checked",onInput:"onChange"}),$(e=>_(e.value)?e.value?r(mo,{style:{color:"#52c41a"}}):r(ho,{style:{color:"#f5222d"}}):r("div",{children:"-"})));Pt.__ARCO_CHECKBOX=!0;Pt.Group=j(St.Group,H({dataSource:"options"}),$(e=>{if(!_(e.value))return r("div",{children:"-"});const t=R(),n=t.dataSource||[],o=le.exports.uniq(t.value?t.value:[]);return r("div",{children:n.filter(i=>o.includes(i.value)).map((i,s)=>r(Se,{color:i.color,children:i.label},s))})}));const vt=()=>{const e=h.exports.useContext(yt),t=h.exports.useContext(xt);return n=>n&&fo.compile(n,d(d({},e.scope),t))},en=()=>{const e=ke();return{red:e.ColorSelect.red,orangered:e.ColorSelect.orangered,orange:e.ColorSelect.orange,gold:e.ColorSelect.gold,lime:e.ColorSelect.lime,green:e.ColorSelect.green,cyan:e.ColorSelect.cyan,blue:e.ColorSelect.blue,arcobule:e.ColorSelect.arcobule,purple:e.ColorSelect.purple,pinkpurple:e.ColorSelect.pinkpurple,magenta:e.ColorSelect.magenta,gray:e.ColorSelect.gray}},Ui=j(e=>{const t=vt(),n=en();return r(ne,g(d({},e),{children:Object.keys(n).map(o=>r(ne.Option,{value:o,children:r(Se,{color:o,children:t(n[o]||n.default)})}))}))},H((e,t)=>g(d({},e),{suffix:r("span",{children:(t==null?void 0:t.loading)||(t==null?void 0:t.validating)?r(Be,{}):e.suffix})})),$(e=>{const{value:t}=e,n=vt(),o=en();return o[t]?r(Se,{color:t,children:n(o[t]||o.default)}):null})),Yi=e=>{if(!e.value)return r("div",{children:"-"});const t=T("description-date-picker",e),n=()=>et(e.value)?e.value.join("~"):e.value;return r("div",{className:k(t,e.className),children:n()})},Ji=e=>{const o=e,{mode:t}=o,n=L(o,["mode"]);switch(t){case"date":return r(se,d({},n));case"week":return r(se.WeekPicker,d({},n));case"month":return r(se.MonthPicker,d({},n));case"year":return r(se.YearPicker,d({},n));case"quarter":return r(se.QuarterPicker,d({},n));default:return r(se,d({},n))}},Vi=j(Ji,$(Yi)),Hi=e=>r(ot,g(d({style:{marginBottom:24}},e),{children:e.children})),ct=z(e=>{const t=B();return r(po,g(d({},e),{droplist:r(pe,{children:r(Z,{schema:t.items,onlyRenderProperties:!0})}),children:r("div",{children:r(Z,{schema:t,onlyRenderProperties:!0})})}))});ct.Item=z(e=>{const t=B(),n=R();return h.exports.createElement(pe.Item,g(d({},e),{key:t.name}),t.properties?r(Z,{schema:t,onlyRenderProperties:!0}):n.title)});ct.SubMenu=z(e=>{const t=B(),n=R(),{t:o}=F();return h.exports.createElement(pe.SubMenu,g(d({},e),{key:t.name,title:o(n.title)}),r(Z,{schema:t,onlyRenderProperties:!0}))});ct.URL=z(e=>{const t=B(),n=R(),{t:o}=F();return r(pe.Item,{onClick:()=>{window.open(e.href,"_blank")},children:o(n.title)},t.name)});const Xi={LiFlow:{tooltipUndo:"Undo",tooltipRedo:"Redo",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",tooltipAutoFit:"Auto Fit",nodeSequenceFlow:"Sequence Flow",nodeStartEvent:"Start Event",nodeEndEvent:"End Event",nodeGateway:"Gateway",nodeExclusiveGateway:"Exclusive Gateway",nodeApproverTask:"Approver Task",nodeWebhookTask:"Webhook Task"}};var qi=Xi;const Ki={LiFlow:{tooltipUndo:"\u4E0A\u4E00\u6B65",tooltipRedo:"\u4E0B\u4E00\u6B65",tooltipZoomIn:"\u653E\u5927",tooltipZoomOut:"\u7F29\u5C0F",tooltipAutoFit:"\u9002\u5E94\u5C4F\u5E55",nodeSequenceFlow:"\u8FDE\u63A5\u7EBF",nodeStartEvent:"\u5F00\u59CB\u8282\u70B9",nodeEndEvent:"\u7ED3\u675F\u8282\u70B9",nodeExclusiveGateway:"\u6392\u4ED6\u7F51\u5173",nodeApproverTask:"\u5BA1\u6279\u8282\u70B9",nodeWebhookTask:"\u94A9\u5B50\u8282\u70B9"}};var es=Ki;function Un(){var t;return((t=h.exports.useContext(ge.ConfigContext).locale)==null?void 0:t.locale)==="en-US"?qi:es}const ts=e=>{const t=Un(),[n,o]=h.exports.useState();return h.exports.useEffect(()=>{e.lf.on("history:change",({data:i})=>{o(i)})},[]),b(V,{children:[r(me,{position:"bottom",trigger:"hover",content:t.LiFlow.tooltipUndo,children:r(P,{style:n!=null&&n.undoAble?{color:"var(--color-text-2)"}:{color:"var(--color-text-4)"},icon:r(go,{}),type:"text",iconOnly:!0,disabled:!(n!=null&&n.undoAble),onClick:()=>{e.lf.undo()}})}),r(me,{position:"bottom",trigger:"hover",content:t.LiFlow.tooltipRedo,children:r(P,{style:n!=null&&n.redoAble?{color:"var(--color-text-2)"}:{color:"var(--color-text-4)"},icon:r(yo,{}),type:"text",iconOnly:!0,disabled:!(n!=null&&n.redoAble),onClick:()=>{e.lf.redo()}})}),r(ot,{type:"vertical"}),r(me,{position:"bottom",trigger:"hover",content:t.LiFlow.tooltipZoomIn,children:r(P,{style:{color:"var(--color-text-2)"},icon:r(xo,{}),type:"text",iconOnly:!0,onClick:()=>{e.lf.zoom(!0)}})}),r(me,{position:"bottom",trigger:"hover",content:t.LiFlow.tooltipZoomOut,children:r(P,{style:{color:"var(--color-text-2)"},icon:r(Co,{}),type:"text",iconOnly:!0,onClick:()=>{e.lf.zoom(!1)}})}),r(me,{position:"bottom",trigger:"hover",content:t.LiFlow.tooltipAutoFit,children:r(P,{style:{color:"var(--color-text-2)"},icon:r(vo,{}),type:"text",iconOnly:!0,onClick:()=>{e.lf.resetZoom()}})})]})};var ns=ts;const W={startevent:"StartEvent:StartEvent",approvertask:"ApproverTask:UserTask",webhooktask:"ApproverTask:ServiceTask",exclusivegateway:"ExclusiveGateway:ExclusiveGateway",sequenceflow:"SequenceFlow:SequenceFlow",endevent:"EndEvent:EndEvent"},ut={startevent:{type:W.startevent,label:"nodeStartEvent",imgsrc:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNjggNjgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDY4IDY4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkNGMUU4O30NCgkuc3Qxe2ZpbGw6I0Y5QUE2ODt9DQoJLnN0MntmaWxsOiNGQThDMTY7fQ0KPC9zdHlsZT4NCjx0aXRsZT5zdGFydF8xPC90aXRsZT4NCjxnIGlkPSLlm77lsYJfMiI+DQoJPGcgaWQ9IuWbvuWxgl8xLTIiPg0KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzQsNjcuNWMtMTguNSwwLTMzLjUtMTUtMzMuNS0zMy41UzE1LjUsMC41LDM0LDAuNXMzMy41LDE1LDMzLjUsMzMuNUM2Ny41LDUyLjUsNTIuNSw2Ny41LDM0LDY3LjV6Ii8+DQoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNCwxYzE4LjIsMCwzMywxNC44LDMzLDMzUzUyLjIsNjcsMzQsNjdTMSw1Mi4yLDEsMzRTMTUuOCwxLDM0LDEgTTM0LDBDMTUuMiwwLDAsMTUuMiwwLDM0czE1LjIsMzQsMzQsMzQNCgkJCXMzNC0xNS4yLDM0LTM0UzUyLjgsMCwzNCwweiIvPg0KCTwvZz4NCgk8cG9seWdvbiBjbGFzcz0ic3QyIiBwb2ludHM9IjQ4LjIsMzIuNiAyOC4yLDE3LjUgMjguMiw0Ny44IAkiLz4NCjwvZz4NCjwvc3ZnPg0K",style:{width:"30px",height:"30px"}},approvertask:{type:W.approvertask,label:"nodeApproverTask",imgsrc:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMTA3IDYxIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDcgNjE7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNFNkYyRkM7c3Ryb2tlOiM1Q0FGRkI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQ0KCS5zdDF7ZmlsbDojMTg5MEZGO30NCjwvc3R5bGU+DQo8dGl0bGU+dGFza18xPC90aXRsZT4NCjxnIGlkPSLlm77lsYJfMiI+DQoJPGcgaWQ9IuWbvuWxgl8xLTIiPg0KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOC45LDAuNWg4OS4yYzQuNiwwLDguNCwzLjgsOC40LDguNHY0My4yYzAsNC42LTMuOCw4LjQtOC40LDguNEg4LjljLTQuNiwwLTguNC0zLjgtOC40LTguNFY4LjkNCgkJCUMwLjUsNC4zLDQuMywwLjUsOC45LDAuNXoiLz4NCgk8L2c+DQo8L2c+DQo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNDcuMywyMS41YzAtMy4zLDAuMy01LjgsMy41LTcuNGMwLjctMC4zLDIuMi0wLjUsMi44LTAuNWMwLjgsMCwwLTAuNywxLjgtMC43czQuMSwwLjgsNS4zLDMuMXMxLjMsNSwxLjMsNS42DQoJYzAsMC43LDAuNywwLjMsMC43LDEuM2MwLDEtMC4zLDIuOC0xLjMsNGMtMSwxLjMtMS4zLDEuNS0yLDIuNWMtMC43LDEtMSwyLTEsMi44YzAsMy4xLDUuMywzLjMsOC40LDUuM2MxLjIsMC44LDIsMS44LDIuNSwzDQoJYzAuNSwxLjItMC4yLDIuMy0xLjIsMi42Yy0wLjIsMC4yLTAuNSwwLjItMC44LDAuMkg0MS45Yy0xLjIsMC0yLjItMS0yLjItMi4yYzAtMC4zLDAtMC41LDAuMi0wLjhjMC41LTEuMiwxLjMtMi4yLDIuNS0zDQoJYzMuMS0yLDguNC0yLjIsOC40LTUuM2MwLTAuOC0wLjMtMS44LTEtMi44cy0xLTEuMy0yLTIuNWMtMS0xLjMtMS4zLTMuMS0xLjMtNEM0Ni41LDIyLDQ3LjMsMjIuMiw0Ny4zLDIxLjV6Ii8+DQo8L3N2Zz4NCg==",style:{width:"42px",height:"30px"}},webhooktask:{type:W.webhooktask,label:"nodeWebhookTask",imgsrc:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMTA3IDYxIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDcgNjE7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRkYwRjY7c3Ryb2tlOiNGRjg1QzA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQ0KCS5zdDF7ZmlsbDojRkY4NUMwO30NCjwvc3R5bGU+DQo8dGl0bGU+dGFza18xPC90aXRsZT4NCjxnIGlkPSLlm77lsYJfMS0yIj4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOC45LDAuNWg4OS4yYzQuNiwwLDguNCwzLjgsOC40LDguNHY0My4yYzAsNC42LTMuOCw4LjQtOC40LDguNEg4LjljLTQuNiwwLTguNC0zLjgtOC40LTguNFY4LjkNCgkJQzAuNSw0LjMsNC4zLDAuNSw4LjksMC41eiIvPg0KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik00Ny4yLDIzaDguNmMwLjcsMCwxLjIsMC41LDEuMiwxLjJjMCwwLjctMC41LDEuMi0xLjIsMS4yaC04LjZjLTAuNywwLTEuMi0wLjUtMS4yLTEuMg0KCQlDNDYuMiwyMy41LDQ2LjcsMjMsNDcuMiwyM3ogTTQ3LjIsMTguN2g0LjNjMC43LDAsMS4yLDAuNSwxLjIsMS4yYzAsMC43LTAuNSwxLjItMS4yLDEuMmgtNC4zYy0wLjcsMC0xLjItMC41LTEuMi0xLjINCgkJQzQ2LjEsMTkuMiw0Ni43LDE4LjcsNDcuMiwxOC43eiBNNDQuMSwyOS40YzMuMywxLjMsNy40LDIuMiw5LjgsMi4yczYuNS0wLjgsOS44LTIuMlYxNy41Yy0wLjItMC41LTAuNy0xLTEuMi0xSDQ1LjENCgkJYy0wLjUsMC0xLDAuNS0xLDFWMjkuNEw0NC4xLDI5LjR6IE02Ni4zLDI4LjNjMC4zLTAuMywwLjUtMC43LDAuNS0xcy0wLjMtMS0xLjItMS41djIuNkM2NS45LDI4LjQsNjYuMSwyOC4zLDY2LjMsMjguM3oNCgkJIE0zOC42LDI3LjNjMC0xLjUsMS4yLTMsMy4zLTR2LTUuOGMwLTEuOCwxLjUtMy4zLDMuMy0zLjNoMTcuMmMxLjgsMCwzLjMsMS41LDMuMywzLjN2NS44YzIsMS4yLDMuMywyLjUsMy4zLDR2MTQuMQ0KCQljMCwxLjgtMS41LDMuMy0zLjMsMy4zSDQxLjljLTEuOCwwLTMuMy0xLjUtMy4zLTMuM1YyNy4zeiBNNDEuMywyOC4zYzAuMiwwLjIsMC4zLDAuMiwwLjcsMC4zVjI2Yy0wLjcsMC41LTEuMiwxLTEuMiwxLjUNCgkJQzQwLjgsMjcuNiw0MSwyNy45LDQxLjMsMjguM3oiLz4NCjwvZz4NCjwvc3ZnPg0K",style:{width:"42px",height:"30px"}},exclusivegateway:{type:W.exclusivegateway,label:"nodeExclusiveGateway",imgsrc:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgOTIuNSA5Mi41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA5Mi41IDkyLjU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNFNkY3Rjc7c3Ryb2tlOiM1RkQyRDE7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQ0KCS5zdDF7ZmlsbDpub25lO30NCgkuc3Qye2ZpbGw6IzEzQzJDMjt9DQo8L3N0eWxlPg0KPHRpdGxlPmRlY2lzaW9uXzE8L3RpdGxlPg0KPGcgaWQ9IuWbvuWxgl8yIj4NCgk8ZyBpZD0i5Zu+5bGCXzEtMiI+DQoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01MSwyLjRsMzkuMSwzOS4xYzIuNiwyLjYsMi42LDYuOCwwLDkuNEw1MC45LDkwLjFjLTIuNiwyLjYtNi44LDIuNi05LjQsMEwyLjQsNTFjLTIuNi0yLjYtMi42LTYuOCwwLTkuNA0KCQkJTDQxLjYsMi40QzQ0LjItMC4xLDQ4LjQtMC4xLDUxLDIuNHoiLz4NCgk8L2c+DQo8L2c+DQo8bGluZSBjbGFzcz0ic3QxIiB4MT0iMzEiIHkxPSIzMSIgeDI9IjYyIiB5Mj0iNjIiLz4NCjxsaW5lIGNsYXNzPSJzdDEiIHgxPSIxNDQiIHkxPSI5MiIgeDI9IjE3OC41IiB5Mj0iNTIuNyIvPg0KPHBhdGggY2xhc3M9InN0MiIgZD0iTTQ5LjYsNDYuMmwxNSwxNS4yYzAuNywwLjcsMC43LDEuOCwwLDIuNWMtMC43LDAuNy0xLjgsMC43LTIuNSwwTDQ3LDQ4LjdsLTE1LjIsMTVjLTAuNywwLjctMS44LDAuNy0yLjUsMA0KCWMtMC43LTAuNy0wLjctMS44LDAtMi41bDE1LjItMTVMMjkuNSwzMWMtMC43LTAuNy0wLjctMS44LDAtMi41YzAuNy0wLjcsMS44LTAuNywyLjUsMGwxNSwxNS4ybDE1LjItMTVjMC43LTAuNywxLjgtMC43LDIuNSwwDQoJYzAuNywwLjcsMC43LDEuOCwwLDIuNUw0OS42LDQ2LjJMNDkuNiw0Ni4yeiIvPg0KPC9zdmc+DQo=",style:{width:"30px",height:"30px"}},endevent:{type:W.endevent,label:"nodeEndEvent",imgsrc:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNjggNjgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDY4IDY4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkNFNkU5O30NCgkuc3Qxe2ZpbGw6I0Y2NjA2Qjt9DQoJLnN0MntmaWxsOiNGNTIyMkQ7fQ0KPC9zdHlsZT4NCjx0aXRsZT5lbmRfMTwvdGl0bGU+DQo8ZyBpZD0i5Zu+5bGCXzIiPg0KCTxnIGlkPSLlm77lsYJfMS0yIj4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTM0LDY3LjVjLTE4LjUsMC0zMy41LTE1LTMzLjUtMzMuNVMxNS41LDAuNSwzNCwwLjVzMzMuNSwxNSwzMy41LDMzLjVTNTIuNSw2Ny41LDM0LDY3LjV6Ii8+DQoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNCwxYzE4LjIsMCwzMywxNC44LDMzLDMzUzUyLjIsNjcsMzQsNjdTMSw1Mi4yLDEsMzRTMTUuOCwxLDM0LDEgTTM0LDBDMTUuMiwwLDAsMTUuMiwwLDM0czE1LjIsMzQsMzQsMzQNCgkJCXMzNC0xNS4yLDM0LTM0UzUyLjgsMCwzNCwweiIvPg0KCTwvZz4NCgk8cmVjdCB4PSIyMiIgeT0iMjMiIGNsYXNzPSJzdDIiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIvPg0KPC9nPg0KPC9zdmc+DQo=",style:{width:"30px",height:"30px"}}},rs=e=>{const t=Un(),n=Object.values(ut);return r("div",{style:{width:"100%",padding:"16px 0"},className:"arco-space arco-space-vertical arco-space-align-center",children:n.map((o,i)=>b("div",{style:{width:"100%",marginBottom:i===n.length-1?0:8},className:"arco-space arco-space-vertical arco-space-align-center",children:[r("img",{src:o.imgsrc,style:g(d({},o.style),{cursor:"grab"}),draggable:!1,onMouseDown:()=>{e.lf.dnd.startDrag({type:o.type})}}),r("span",{style:{fontSize:12},children:t.LiFlow[o.label]})]},i))})};var os=rs;class Yn extends D.exports.CircleNodeModel{constructor(t,n){t.text||(t.text=""),typeof t.text=="string"&&(t.text={value:t.text,x:t.x,y:t.y+40}),super(t,n)}setAttributes(){this.r=21}getConnectedTargetRules(){const t=super.getConnectedSourceRules(),n={message:"\u7ED3\u675F\u8282\u70B9\u53EA\u80FD\u8FDE\u5165\uFF0C\u4E0D\u80FD\u8FDE\u51FA",validate:(o,i)=>{let s=!0;return i&&(s=!1),s}};return t.push(n),t}}Yn.extendKey="EndEventModel";class Jn extends D.exports.CircleNode{getShape(){const{model:t}=this.props,n=t.getNodeStyle();return D.exports.h("g",{},[D.exports.h("image",g(d({},n),{x:t.x-1/2*t.width,y:t.y-1/2*t.height,width:t.width,height:t.height,preserveAspectRatio:"none meet",href:ut.endevent.imgsrc}))])}}Jn.extendKey="EndEventNode";const is={type:W.endevent,view:Jn,model:Yn};var ss=is;class Vn extends D.exports.PolylineEdgeModel{getEdgeStyle(){const t=super.getEdgeStyle();return t.strokeWidth=1,t.stroke="#ababac",t}}Vn.extendKey="SequenceFlowModel";class Hn extends D.exports.PolylineEdge{}Hn.extendKey="SequenceFlowEdge";const ls={type:W.sequenceflow,view:Hn,model:Vn};var as=ls;class Xn extends D.exports.CircleNodeModel{constructor(t,n){t.text||(t.text=""),typeof t.text=="string"&&(t.text={value:t.text,x:t.x,y:t.y+40}),super(t,n)}setAttributes(){this.r=21}getConnectedTargetRules(){const t=super.getConnectedTargetRules(),n={message:"\u5F00\u59CB\u8282\u70B9\u53EA\u80FD\u8FDE\u51FA\uFF0C\u4E0D\u80FD\u8FDE\u5165",validate:(o,i)=>{let s=!0;return i&&(s=!1),s}};return t.push(n),t}}Xn.extendKey="StartEventModel";class qn extends D.exports.CircleNode{getShape(){const{model:t}=this.props,n=t.getNodeStyle();return D.exports.h("g",{},[D.exports.h("image",g(d({},n),{x:t.x-1/2*t.width,y:t.y-1/2*t.height,width:t.width,height:t.height,preserveAspectRatio:"none meet",href:ut.startevent.imgsrc}))])}}qn.extendKey="StartEventNode";const cs={type:W.startevent,view:qn,model:Xn};var us=cs;class Kn extends D.exports.RectNodeModel{setAttributes(){this.width=90,this.height=42,this.radius=4}}Kn.extendKey="ApproverTaskModel";class er extends D.exports.RectNode{getShape(){const{model:t}=this.props,{x:n,y:o,width:i,height:s,radius:a}=t,l=t.getNodeStyle();return D.exports.h("g",{},[D.exports.h("rect",g(d({},l),{x:n-i/2,y:o-s/2,rx:a,ry:a,width:i,height:s,fill:"#E7F7FE",stroke:"#1890FF",style:{strokeWidth:1}})),D.exports.h("svg",{x:n-i/2+4,y:o-s/2+4,width:14,height:14,viewBox:"0 0 1274 1024"},D.exports.h("path",{fill:"#1890FF",d:"M289.071721 313.25654c-1.350764-101.018741 12.281721-176.459944 106.60804-227.359194 19.306718-10.417257 65.041342-15.911388 86.877673-15.911388 23.923876-2.447748 0.23843-21.964244 53.016471-21.964245s126.176724 23.252587 161.259754 95.225805c35.08303 71.974241 38.052664 150.966317 38.052664 169.903622 0 18.938328 19.383466 9.468652 19.383466 37.875632 0 28.40698-8.361435 84.613096-38.10076 122.79265-29.740348 38.179554-39.432081 47.648207-58.815547 76.055187-19.383466 28.40698-29.075199 59.379389-29.075199 85.22094 0 94.689592 162.000628 101.68696 255.906368 161.484881 37.066197 23.603581 63.063291 54.19532 77.990258 91.774194 13.048177 32.848129-3.00238 70.053496-35.850509 83.101673a63.984267 63.984267 0 0 1-23.62507 4.520966l-781.415033 0.001024c-35.344996 0-63.99757-28.652574-63.997569-63.99757 0-8.118911 1.545192-16.163121 4.551666-23.704888 14.97097-37.543058 40.871873-68.107167 77.703732-91.694375 93.377714-59.798944 256.137635-66.796312 256.137635-161.484881 0-25.217335-9.691733-56.81396-29.075199-85.220941-19.383466-28.40698-29.075199-37.875632-58.149375-76.055186-29.075199-38.179554-38.766932-94.385671-38.766932-122.792651 0-28.40698 19.383466-18.938328 19.383466-37.771255z"}))])}}er.extendKey="ApproverTaskNode";const ds={type:W.approvertask,view:er,model:Kn};var ms=ds;class tr extends D.exports.PolygonNodeModel{constructor(t,n){t.text||(t.text=""),typeof t.text=="string"&&(t.text={value:t.text,x:t.x,y:t.y+40}),super(t,n),this.points=[[25,0],[50,25],[25,50],[0,25]]}}tr.extendKey="ExclusiveGatewayModel";class nr extends D.exports.PolygonNode{getShape(){const{model:t}=this.props,n=t.getNodeStyle();return D.exports.h("g",{},[D.exports.h("image",g(d({},n),{x:t.x-1/2*t.width,y:t.y-1/2*t.height,width:t.width,height:t.height,preserveAspectRatio:"none meet",href:ut.exclusivegateway.imgsrc}))])}}nr.extendKey="ExclusiveGatewayNode";const hs={type:W.exclusivegateway,view:nr,model:tr};var fs=hs;class rr extends D.exports.RectNodeModel{setAttributes(){this.width=90,this.height=42,this.radius=4}}rr.extendKey="WebhookTaskModel";class or extends D.exports.RectNode{getShape(){const{model:t}=this.props,{x:n,y:o,width:i,height:s,radius:a}=t,l=t.getNodeStyle();return D.exports.h("g",{},[D.exports.h("rect",g(d({},l),{x:n-i/2,y:o-s/2,rx:a,ry:a,width:i,height:s,fill:"#FFF0F6",stroke:"#FF85C0",style:{strokeWidth:1}})),D.exports.h("svg",{x:n-i/2+4,y:o-s/2+4,width:14,height:14,viewBox:"0 0 1274 1024"},D.exports.h("path",{fill:"#FF85C0",d:"M320.009338 320.009338h255.987208c17.672498 0 31.998785 14.326287 31.998785 31.998784s-14.326287 31.998785-31.998785 31.998785H320.009338c-17.672498 0-31.998785-14.326287-31.998785-31.998785s14.326287-31.998785 31.998785-31.998784z m0-127.994116h127.994116c17.672498 0 31.998785 14.326287 31.998784 31.998785s-14.326287 31.998785-31.998784 31.998784H320.009338c-17.672498 0-31.998785-14.326287-31.998785-31.998784s14.326287-31.998785 31.998785-31.998785z m-95.995331 321.775564c99.272981 38.236859 220.397642 62.20576 287.985993 62.20576s188.713013-23.968901 287.985993-62.20576V160.016437c0-17.672498-14.326287-31.998785-31.998784-31.998785H256.011768c-17.672498 0-31.998785 14.326287-31.998785 31.998785v353.774349z m657.828296-38.262442c9.481955-10.229992 14.139022-19.690458 14.139022-27.52489 0-11.751648-10.475586-27.160593-31.998785-43.338041v80.656994a434.420087 434.420087 0 0 0 17.859763-9.794063zM64.021106 448.00243c0-44.844348 35.875069-86.097914 95.995331-118.776173V160.016437c0-53.016471 42.97886-95.995331 95.995331-95.995331h511.975441c53.016471 0 95.995331 42.97886 95.995331 95.995331v169.20982c60.120262 32.679283 95.995331 73.931826 95.995331 118.776173v415.98011c0 53.016471-42.97886 95.995331-95.995331 95.995331H160.016437c-53.016471 0-95.995331-42.97886-95.995331-95.995331V448.00243z m78.135568 27.525914a434.536744 434.536744 0 0 0 17.859763 9.79304v-80.656994c-21.523199 16.177448-31.998785 31.587416-31.998785 43.33804 0.001023 7.835456 4.657067 17.295921 14.139022 27.525914z"}))])}}or.extendKey="WebhookTaskNode";const ps={type:W.webhooktask,view:or,model:rr};var gs=ps;const ys=e=>{e.register(us),e.register(ss),e.register(ms),e.register(gs),e.register(as),e.register(fs),e.setDefaultEdgeType(W.sequenceflow)},Je=()=>r(O.Item,{label:"\u6807\u9898",field:"name",children:r(U,{})}),xs=()=>r(O.Item,{label:"\u6761\u4EF6\u8868\u8FBE\u5F0F",field:"condition",children:r(U.TextArea,{})}),Cs=e=>b(h.exports.Fragment,{children:[r(O.Item,{label:"\u8BBE\u7F6E\u5BA1\u6279\u4EBA",field:"approver_getter",initialValue:"user",children:b(K.Group,{direction:"vertical",children:[r(K,{value:"user",children:"\u6307\u5B9A\u6210\u5458"}),r(K,{value:"role",children:"\u89D2\u8272"}),r(K,{value:"field",children:"\u8868\u5355\u4E2D\u83B7\u53D6"})]})}),r(O.Item,{shouldUpdate:!0,noStyle:!0,children:t=>{switch(t.approver_getter){case"user":return r(O.Item,{label:"\u9009\u62E9\u5BA1\u6279\u4EBA",field:"approval_users",shouldUpdate:!0,children:r(ne,{options:e.userOptions,mode:"multiple"})});case"role":return r(O.Item,{label:"\u9009\u62E9\u89D2\u8272",field:"approval_roles",children:r(ne,{options:e.roleOptions,mode:"multiple"})});case"field":return r(O.Item,{label:"\u8868\u5355\u5B57\u6BB5",field:"approval_field",children:r(U,{})});default:return null}}}),r(O.Item,{label:"\u591A\u4EBA\u5BA1\u6279\u65F6\u91C7\u7528\u7684\u5BA1\u6279\u65B9\u5F0F",field:"approval_method",initialValue:"orsign",children:b(K.Group,{direction:"vertical",children:[r(K,{value:"orsign",children:"\u6216\u7B7E"}),r(K,{value:"countersign",children:"\u4F1A\u7B7E"})]})}),e.notifyChannelOptions&&b(h.exports.Fragment,{children:[r(O.Item,{label:"\u901A\u77E5\u65B9\u5F0F",field:"notify_channels",initialValue:["email"],children:r(St.Group,{direction:"vertical",options:e.notifyChannelOptions})}),r(ot,{orientation:"center",children:"\u901A\u77E5\u5185\u5BB9"}),r(O.Item,{label:"\u6807\u9898",field:"notify_title",children:r(U,{})}),r(O.Item,{label:"\u5185\u5BB9",field:"notify_content",children:r(U.TextArea,{})})]})]}),vs=()=>r(O.Item,{label:"Webhook \u5730\u5740",field:"webhook",children:r(U.TextArea,{})}),ws=e=>{const[t]=O.useForm(),n=()=>{switch(e.activeNode.type){case W.sequenceflow:return b(h.exports.Fragment,{children:[r(Je,{}),r(xs,{})]});case W.approvertask:return b(h.exports.Fragment,{children:[r(Je,{}),r(Cs,{userOptions:e.userOptions,roleOptions:e.roleOptions,notifyChannelOptions:e.notifyChannelOptions})]});case W.webhooktask:return b(h.exports.Fragment,{children:[r(Je,{}),r(vs,{})]});default:return r(Je,{})}};return h.exports.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.activeNode.properties)},[e.activeNode.id]),r(O,{form:t,layout:"vertical",onValuesChange:(o,i)=>{e.onChange(e.activeNode.id,i)},children:n()})};var bs=ws;function Ns(e){const{id:t,x:n,y:o,text:i="",properties:s}=e,[a,l]=e.type.split(":");return{incoming:[],outgoing:[],type:a,flow_type:l,properties:g(d({},s),{name:i&&i.value||"",x:n,y:o,text:i}),key:t}}function Ms(e){const{id:t,sourceNodeId:n,targetNodeId:o,startPoint:i,endPoint:s,text:a="",properties:l}=e,[c,m]=e.type.split(":");return{incoming:[n],outgoing:[o],type:c,flow_type:m,properties:g(d({},l),{name:a&&a.value||"",text:a,startPoint:JSON.stringify(i),endPoint:JSON.stringify(s),pointsList:JSON.stringify(a)}),key:t}}function Ls(e){const t=new Map,n=[];return e.nodes.forEach(o=>{const i=Ns(o);n.push(i),t.set(o.id,i)}),e.edges.forEach(o=>{const i=Ms(o);t.get(o.sourceNodeId).outgoing.push(i.key),t.get(o.targetNodeId).incoming.push(i.key),n.push(i)}),n}function Ss(e){const{incoming:t,outgoing:n,properties:o,key:i,type:s,flow_type:a}=e,{text:l,name:c,startPoint:m,endPoint:u,pointsList:p}=o,f={id:i,type:`${s}:${a}`,sourceNodeId:t[0],targetNodeId:n[0],text:l||c,properties:{}};m&&(f.startPoint=JSON.parse(m)),u&&(f.endPoint=JSON.parse(u)),p&&(f.endPoint=JSON.parse(p));const x=["startPoint","endPoint","pointsList","text"];return Object.keys(e.properties).forEach(y=>{x.indexOf(y)===-1&&(f.properties[y]=e.properties[y])}),f}function Is(e){const{properties:t,key:n,type:o,flow_type:i,bounds:s}=e;let{x:a,y:l}=t;if(a===void 0){const[{x:u,y:p},{x:f,y:x}]=s;a=(u+f)/2,l=(p+x)/2}const c={id:n,type:`${o}:${i}`,x:a,y:l,text:t.text,properties:{}},m=["x","y","text"];return Object.keys(e.properties).forEach(u=>{m.indexOf(u)===-1&&(c.properties[u]=e.properties[u])}),c}function As(e){const t={nodes:[],edges:[]};return Array.isArray(e)&&e.length>0&&e.forEach(n=>{if(n.flow_type==="SequenceFlow"){const o=Ss(n);t.edges.push(o)}else{const o=Is(n);t.nodes.push(o)}}),t}class ir{constructor({lf:t}){t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut}adapterOut(t){if(t)return Ls(t)}adapterIn(t){if(t)return As(t)}}ir.pluginName="liflowAdapter";var ks=ir;const tn=e=>{const[t,n]=h.exports.useState(),[o,i]=h.exports.useState(),s=h.exports.useRef(null),a=l=>{l.on("blank:click",()=>{i(void 0)}),l.on("element:click",({data:c})=>{i(c)}),l.on("connection:not-allowed",c=>{de.error(c.msg)}),l.on("*",()=>{var c;(c=e.onChange)==null||c.call(e,l.getGraphData())})};return h.exports.useEffect(()=>{if(!s.current)return;const l=new wo({stopScrollGraph:!0,stopZoomGraph:!0,nodeTextEdit:!1,edgeTextEdit:!1,grid:{size:10,visible:!0,type:"mesh",config:{color:"#eeeeee"}},keyboard:{enabled:!0},container:s.current,plugins:[ks]});n(l),ys(l),l.render(e.value),!e.readOnly&&a(l)},[]),e.readOnly?r("div",{ref:s,style:{height:e.height||400}}):r(Te,g(d({},e.cardProps),{title:t&&r(ns,{lf:t}),bodyStyle:{padding:0},children:b(J.Row,{children:[r(J.Col,{span:2,style:{height:e.height||400,overflowY:"scroll"},children:t&&r(os,{lf:t})}),b(J.Col,{span:22,style:{height:e.height||400},children:[r("div",{ref:s,style:{height:"100%"}}),t&&o&&r(Te,{style:{position:"absolute",right:0,top:0,height:"calc(100% - 16px)",margin:"8px 8px -8px -8px",zIndex:101,boxShadow:"0 0 10px 1px #e4e0db"},bodyStyle:{overflowY:"scroll",height:parseInt(`${e.height||400}`)-8*2-20*2},children:r(bs,{activeNode:o,onChange:(l,c)=>{const m=t.graphModel.nodesMap[l],u=t.graphModel.edgesMap[l];m?(m.model.setProperties(Object.assign(m.model.properties,c)),m.model.updateText(c.name)):u&&(u.model.setProperties(Object.assign(u.model.properties,c)),u.model.updateText(c.name))},userOptions:e.userOptions,roleOptions:e.roleOptions,notifyChannelOptions:e.notifyChannelOptions})})]})]})}))},Ds=j(e=>{var u,p;const m=e,{fetchUserConfig:t,fetchRoleConfig:n}=m,o=L(m,["fetchUserConfig","fetchRoleConfig"]),{data:i,run:s}=re((t==null?void 0:t.operation)||"",t==null?void 0:t.variables,{manual:!0}),{data:a,run:l}=re((n==null?void 0:n.operation)||"",n==null?void 0:n.variables,{manual:!0}),c=h.exports.useRef(!1);return c.current||(e.fetchUserConfig&&s(),e.fetchRoleConfig&&l(),c.current=!0),r(tn,g(d({},o),{userOptions:(u=i&&Array.isArray(i)?i:i==null?void 0:i.list)==null?void 0:u.map(f=>({label:f[(t==null?void 0:t.fieldNames.label)||"id"],value:f[(t==null?void 0:t.fieldNames.value)||"id"]})),roleOptions:(p=a&&Array.isArray(a)?a:a==null?void 0:a.list)==null?void 0:p.map(f=>({label:f[(n==null?void 0:n.fieldNames.label)||"id"],value:f[(n==null?void 0:n.fieldNames.value)||"id"]}))}))},$(e=>r(tn,{readOnly:!0,value:e.value}))),Es=h.exports.createContext("N/A"),zs=Es.Provider,sr=a=>{var l=a,{form:e,component:t,onAutoSubmit:n,onAutoSubmitFailed:o,previewTextPlaceholder:i}=l,s=L(l,["form","component","onAutoSubmit","onAutoSubmitFailed","previewTextPlaceholder"]);const c=Lt(),m=u=>r(mn,{value:{$$form:u},children:r(zs,{value:i,children:r(ce,g(d({},s),{children:Y.createElement(t!=null?t:"form",{onSubmit(p){var f,x;(f=p==null?void 0:p.stopPropagation)==null||f.call(p),(x=p==null?void 0:p.preventDefault)==null||x.call(p),u.submit(n).catch(o)}},s.children)}))})});if(e)return r(nt,{form:e,children:m(e)});if(!c)throw new Error("must pass form instance by createForm");return m(c)};sr.defaultProps={component:"form"};const jt=()=>r(Fe,{});jt.Row=e=>r(J.Row,d({},e));jt.Col=e=>r(J.Col,d({},e));const Ps=e=>{const t=h.exports.useRef(null);return h.exports.useEffect(()=>(t.current&&e!==t.current&&t.current.onUnmount(),t.current=e,e.onMount(),()=>{e.onUnmount()}),[e]),e},lr=h.exports.createContext({});function js(){return h.exports.useContext(lr)}const ar=j(e=>{const{t}=F();return r(U,g(d({},e),{placeholder:e.placeholder?t(e.placeholder):void 0}))},H((e,t)=>g(d({},e),{suffix:r("span",{children:(t==null?void 0:t.loading)||(t==null?void 0:t.validating)?r(Be,{}):e.suffix})})),$(e=>{const t=T("description-input",e),n=Y.useRef(null),o=vt(),[i,s]=h.exports.useState(!1),a=o(e.value),l=r(Mt,{content:a,style:{width:100},children:r("span",{className:"input-ellipsis",children:a})});return h.exports.useEffect(()=>{var c,m,u;((c=n.current)==null?void 0:c.scrollWidth)&&((m=n.current)==null?void 0:m.scrollWidth)>((u=n.current)==null?void 0:u.clientWidth)&&s(!0)},[]),b("div",{className:k(t,e.className),style:e.style,children:[e.addonBefore,e.prefix,r("span",{ref:n,children:i?l:a}),e.suffix,e.addonAfter]})}));ar.TextArea=j(e=>{const{t}=F();return r(U.TextArea,g(d({},e),{placeholder:e.placeholder?t(e.placeholder):void 0}))},$(e=>{const t=T("description-textarea",e),n=Y.useRef(null),[o,i]=h.exports.useState(!1),s=e.ellipsis===!0?{}:e.ellipsis,a=r(Mt,{content:e.value,children:r("span",{className:"input-ellipsis",style:d({},s),children:e.text||e.value})});return h.exports.useEffect(()=>{var l,c,m;((l=n.current)==null?void 0:l.scrollWidth)&&((c=n.current)==null?void 0:c.scrollWidth)>((m=n.current)==null?void 0:m.clientWidth)&&i(!0)},[]),b("div",{className:k(t,e.className),style:e.style,children:[e.addonBefore,e.prefix,r("span",{ref:n,children:o?a:e.value}),e.suffix,e.addonAfter]})}));function wt(){return typeof BigInt=="function"}function je(e){let t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t=`0${t}`);const o=t||"0",i=o.split("."),s=i[0]||"0",a=i[1]||"0";s==="0"&&a==="0"&&(n=!1);const l=n?"-":"";return{negative:n,negativeStr:l,trimStr:o,integerStr:s,decimalStr:a,fullStr:`${l}${o}`}}function Tt(e){const t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function Re(e){const t=String(e);if(Tt(e)){let n=Number(t.slice(t.indexOf("e-")+2));const o=t.match(/\.(\d+)/);return o!=null&&o[1]&&(n+=o[1].length),n}return t.includes(".")&&ur(t)?t.length-t.indexOf(".")-1:0}function cr(e){let t=String(e);if(Tt(e)){if(e>Number.MAX_SAFE_INTEGER)return String(wt()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(wt()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(Re(t))}return je(t).fullStr}function ur(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}class he{constructor(t){if(this.origin="",this.number=0,this.empty=!1,!t&&t!==0||!String(t).trim()){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}negate(){return new he(-this.toNumber())}add(t){if(this.isInvalidate())return new he(t);const n=Number(t);if(Number.isNaN(n))return this;const o=this.number+n;if(o>Number.MAX_SAFE_INTEGER)return new he(Number.MAX_SAFE_INTEGER);if(o<Number.MIN_SAFE_INTEGER)return new he(Number.MIN_SAFE_INTEGER);const i=Math.max(Re(this.number),Re(n));return new he(o.toFixed(i))}isEmpty(){return this.empty}isNaN(){return Number.isNaN(this.number)}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(t){return this.toNumber()===(t==null?void 0:t.toNumber())}lessEquals(t){return this.add(t.negate().toString()).toNumber()<=0}toNumber(){return this.number}toString(t=!0){return t?this.isInvalidate()?"":cr(this.number):this.origin}}class Ne{constructor(t){if(this.origin="",this.negative=!1,this.integer=BigInt(0),this.decimal=BigInt(0),this.decimalLen=0,this.empty=!1,this.nan=!1,!t&&t!==0||!String(t).trim()){this.empty=!0;return}if(this.origin=String(t),t==="-"){this.nan=!0;return}let n=t;if(Tt(n)&&(n=Number(n)),n=typeof n=="string"?n:cr(n),ur(n)){const o=je(n);this.negative=o.negative;const i=o.trimStr.split(".");this.integer=BigInt(i[0]);const s=i[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}getMark(){return this.negative?"-":""}getIntegerStr(){return this.integer.toString()}getDecimalStr(){return this.decimal.toString().padStart(this.decimalLen,"0")}alignDecimal(t){const n=`${this.getMark()}${this.getIntegerStr()}${this.getDecimalStr().padEnd(t,"0")}`;return BigInt(n)}negate(){const t=new Ne(this.toString());return t.negative=!t.negative,t}add(t){if(this.isInvalidate())return new Ne(t);const n=new Ne(t);if(n.isInvalidate())return this;const o=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),i=this.alignDecimal(o),s=n.alignDecimal(o),a=(i+s).toString(),{negativeStr:l,trimStr:c}=je(a),m=`${l}${c.padStart(o+1,"0")}`;return new Ne(`${m.slice(0,-o)}.${m.slice(-o)}`)}isEmpty(){return this.empty}isNaN(){return this.nan}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(t){return this.toString()===(t==null?void 0:t.toString())}lessEquals(t){return this.add(t.negate().toString()).toNumber()<=0}toNumber(){return this.isNaN()?NaN:Number(this.toString())}toString(t=!0){return t?this.isInvalidate()?"":je(`${this.getMark()}${this.getIntegerStr()}.${this.getDecimalStr()}`).fullStr:this.origin}}function Ts(e){return wt()?new Ne(e):new he(e)}function dr(e,t,n){if(e==="")return"";const{negativeStr:o,integerStr:i,decimalStr:s}=je(e),a=`${t}${s}`,l=`${o}${i}`;if(n&&n>=0){const c=Number(s[n]);if(c>=5){const m=Ts(e).add(`${o}0.${"0".repeat(n)}${10-c}`);return dr(m.toString(),t,n)}return n===0?l:`${l}${t}${s.padEnd(n,"0").slice(0,n)}`}return a===".0"?l:`${l}${a}`}const Fs=j(e=>{const{t}=F();return r(wn,{placeholder:e.placeholder?t(e.placeholder):void 0})},$(e=>{const{step:t,value:n,addonBefore:o,addonAfter:i}=e;if(!_(e.value))return r("div",{children:"-"});const s=Math.max(Re(String(n)),Re(t));return b("div",{children:[o,dr(String(n),".",s),i]})})),ue=h.exports.createContext({}),mr=h.exports.createContext({}),Rs=h.exports.createContext(null),Bs=e=>{const{record:t,children:n}=e;return r(mr.Provider,{value:t,children:n})},$s=e=>{const{index:t,children:n}=e;return r(Rs.Provider,{value:t,children:n})};function Ft(){return h.exports.useContext(mr)}const Rt=e=>{let t=h.exports.useContext(yt);const n=h.exports.useContext(xt),o=d(d(d({},t==null?void 0:t.scope),n),e.scope);return r(yt.Provider,{value:{scope:o,getComponent(i){const s=bo.getIn(e.components,i);return s||t.getComponent(i)}},children:r(xt.Provider,{value:o,children:e.children})})};function hr(e){return e?we.isSchemaInstance(e)?e:e.name?new we({type:"object",properties:{[e.name]:e}}):new we(e):new we({})}const Os=e=>h.exports.useMemo(()=>hr(e),[]),fr=e=>{const s=e,{components:t,scope:n,schema:o}=s,i=L(s,["components","scope","schema"]);return r(Rt,{inherit:!0,components:t,scope:n,children:r(Z,g(d({},i),{schema:hr(o)}))})},Gs=e=>{const i=e,{schema:t}=i,n=L(i,["schema"]),o=Os(t);return r(fr,g(d({},n),{schema:o}))},Ie=e=>{const o=e,{memoized:t}=o,n=L(o,["memoized"]);return t?r(Gs,d({},n)):r(fr,d({},n))};we.silent(!0);const Zs={silent:!0,compile(e,t={}){try{return new Function("$root",`with($root) { return (${e}); }`)(t)}catch{return`{{${e}}}`}}};we.registerCompiler(Zs.compile);const Ws=e=>{const{components:t,children:n}=e,[,o]=h.exports.useState(be()),[i,s]=h.exports.useState(be()),a=e.form||h.exports.useMemo(()=>tt(),[i]),{t:l}=F(),c=g(d({},e.scope),{t:l});return r(lr.Provider,{value:{scope:c,components:t,reset:()=>s(be()),refresh:()=>o(be())},children:r(nt,{form:a,children:r(Rt,{inherit:!0,scope:c,components:t,children:n})})})},Bt=e=>{const{children:t}=e;return r(Rt,{components:{Action:Et,ArrayBase:A,ArrayItems:st,ArrayTable:at,Avatar:Fi,CardItem:Ri,Chart:Qn,ChartItem:Oi,Cascader:Bi,Checkbox:Pt,ColorSelect:Ui,DatePicker:Vi,Divider:Hi,DropdownMenu:ct,FlowEditor:Ds,Form:sr,FormButtonGroup:oe,FormGrid:te,FormItem:Fn,FormLayout:ce,Grid:jt,Input:ar,InputNumber:Fs,List:Ot,Menu:Hs,Money:el,Password:rl,Radio:Gt,RecordSelect:_s,Reset:ol,Select:al,Space:cl,Submit:Dt,Switch:ul,Tabs:yr,TimePicker:Cr,Upload:Zt},children:t})},ye=z(e=>{const t=B();return b("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:16},children:[r(V,{children:t.mapProperties((n,o)=>{var i;return((i=n["x-component-props"])==null?void 0:i.position)!=="left"?null:r(Z,{name:o,schema:n},o)})}),r(V,{children:t.mapProperties((n,o)=>{var i;return((i=n["x-component-props"])==null?void 0:i.position)==="left"?null:r(Z,{name:o,schema:n},o)})})]})});ye.RowSelection=z(e=>{var u,p;const m=e,{confirmProps:t,forSubmit:n,afterReload:o}=m,i=L(m,["confirmProps","forSubmit","afterReload"]),s=R(),a=h.exports.useContext(ue),{t:l}=F(),c=()=>{n&&Ae(n,{ids:a.selectedKeys}).then(()=>{var f;o&&((f=a.result)==null||f.run())})};return e.confirmProps?r(bn,g(d({},e.confirmProps),{onOk:c,children:r(P,g(d({},i),{disabled:!((u=a.selectedKeys)!=null&&u.length),icon:e.icon&&typeof e.icon=="string"?r(ae,{type:e.icon}):e.icon,children:l(s.title)}))})):r(P,g(d({},i),{disabled:!((p=a.selectedKeys)!=null&&p.length),onClick:c,icon:e.icon&&typeof e.icon=="string"?r(ae,{type:e.icon}):e.icon,children:l(s.title)}))});ye.Reload=z(e=>{const a=e,{data:t}=a,n=L(a,["data"]),o=R(),i=h.exports.useContext(ue),{t:s}=F();return r(P,g(d({},n),{icon:e.icon&&typeof e.icon=="string"?r(ae,{type:e.icon}):e.icon,onClick:()=>{var l;(l=i.reload)==null||l.call(i,t)},children:s(o.title)}))});ye.RecordFormDrawer=z(e=>{const t=h.exports.useContext(ue),n=Ft();return r(Bn,g(d({},e),{forInitVariables:n,forSubmitSuccess:()=>{var o;(o=t.result)==null||o.run()}}))});ye.RecordFormModal=z(e=>{const t=h.exports.useContext(ue),n=Ft();return r($n,g(d({},e),{forInitVariables:n,forSubmitSuccess:()=>{var o;(o=t.result)==null||o.run()}}))});ye.RecordDelete=z(e=>{var p,f;const u=e,{confirmProps:t,forSubmit:n}=u,o=L(u,["confirmProps","forSubmit"]),i=R(),s=ke(),a=h.exports.useContext(ue),l=Ft(),{t:c}=F(),m=()=>{n&&Ae(n,l).then(()=>{var x;(x=a.result)==null||x.run()})};return r(bn,g(d({},e.confirmProps),{title:(p=e.confirmProps)!=null&&p.title?r(Me,{children:(f=e.confirmProps)==null?void 0:f.title}):s.List.confirmDelete,onOk:m,children:r(P,g(d({},o),{icon:e.icon&&typeof e.icon=="string"?r(ae,{type:e.icon}):e.icon,children:c(i.title)}))}))});ye.Search=e=>{const t=h.exports.useContext(ue),n=ke(),{t:o}=F();return r(U.Search,{style:e.style,placeholder:e.placeholder?o(e.placeholder):n.List.search,onSearch:i=>{var s;(s=t.reload)==null||s.call(t,{query:i})}})};const $t=e=>{var v;const y=e,{value:t,onChange:n,multiple:o,fieldNames:i,searchConfig:s}=y,a=L(y,["value","onChange","multiple","fieldNames","searchConfig"]),l=d({title:"id",value:"id"},i),c=Le(t).filter(N=>!!N[l.value]),{data:m={},loading:u,run:p}=re(s.operation,s.variables,{manual:!0}),f=h.exports.useCallback(le.exports.debounce(N=>{!N.trim()||p(g(d({limit:20},s.variables),{query:N}))},500),[]),x=le.exports.unionBy(c,m.list||[],l.value);return r(ne,g(d({},a),{showSearch:!0,mode:o?"multiple":void 0,allowClear:!0,filterOption:!1,notFoundContent:u?r("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:r(vn,{style:{margin:12}})}):null,onClick:()=>{x.length||p({limit:20})},onSearch:f,renderFormat:N=>{var C;return(C=x.find(w=>w[l.value]===(N==null?void 0:N.value)))==null?void 0:C[l.title]},options:x.map(N=>({label:r(Jt.Item,{style:{lineHeight:1.2},children:r(Jt.Item.Meta,{avatar:l.avatar&&N[l.avatar]?r(He,{shape:"square",children:r("img",{src:N[l.avatar],alt:N[l.title]})}):null,title:N[l.title],description:l.description?l.description.map(C=>N[C]).filter(C=>_(C)).join(", "):null})},N[l.value]),value:N[l.value]})),value:o?c.map(N=>N[l.value]):(v=c==null?void 0:c[0])==null?void 0:v[l.value],onChange:N=>{if(!N||!N.length)n==null||n([]);else if(Array.isArray(N)){const C=x==null?void 0:x.filter(w=>N.includes(w[l.value]));n==null||n(C)}else n==null||n(x.find(C=>C[l.value]===N))}}))},_s=j($t,$(e=>{var i;const t=R();if(!_(e.value))return r("div",{children:"-"});if(e.multiple&&!((i=t==null?void 0:t.value)!=null&&i.length))return r("div",{children:"-"});const n=d({title:"id",value:"id"},e.fieldNames),o=Le(t.value).filter(s=>!!s[n.value]);return r(V,{wrap:!0,children:o.map(s=>r(Se,{children:s[n.title]},s[n.value]))})})),Qs=e=>{const{prefixCls:t}=h.exports.useContext(ge.ConfigContext),n=ke(),o={};return Array.isArray(e.enum)&&e.enum.length?(o.filters=e.enum.map(i=>le.exports.isObject(i)?{text:(i==null?void 0:i.label)||(i==null?void 0:i.value),value:i==null?void 0:i.value}:{text:i,value:i}),o.filterMultiple=!0):e["x-component"]==="Switch"||e["x-component"]==="Checkbox"?(o.filters=[{text:n.ListFilter.yes,value:!0},{text:n.ListFilter.no,value:!1}],o.filterMultiple=!1):(o.filterIcon=r(Lo,{}),o.filterDropdown=({filterKeys:i,setFilterKeys:s,confirm:a})=>{var c;let l=null;switch(e["x-component"]){case"DatePicker":case"DatePicker.RangePicker":l=r(se.RangePicker,{size:"small",mode:(c=e["x-component-props"])==null?void 0:c.mode,value:i,onChange:u=>s==null?void 0:s(u)});break;case"TimePicker":case"TimePicker.RangePicker":l=r(it.RangePicker,{size:"small",value:i,onChange:u=>s==null?void 0:s(u)});break;case"RecordSelect":const m=e.toJSON(!0);l=r($t,g(d({},m["x-component-props"]),{multiple:!0,value:i,onChange:u=>s==null?void 0:s(u)}));break;case"InputNumber":case"Money":case"Rate":case"Slider":default:l=r(U.Search,{size:"small",value:Array.isArray(i)?i[0]:i,onChange:u=>s==null?void 0:s(u?[u]:[])});break}return b("div",{className:`${t}-table-filters-popup`,children:[r("div",{style:{padding:"4px 12px",fontSize:"14PX"},children:l}),b("div",{className:`${t}-table-filters-btn`,children:[r(P,{onClick:()=>s==null?void 0:s([]),size:"mini",style:{marginRight:8},children:n==null?void 0:n.Table.resetText}),r(P,{onClick:()=>a==null?void 0:a(),type:"primary",size:"mini",children:n==null?void 0:n.Table.okText})]})]})}),o},Us=(e,t,n)=>e.reduce((o,{name:i,columnProps:s,schema:a,display:l},c)=>{if(l&&l!=="visible"||!lt(a))return o;let m;return a.reduceProperties((u,p)=>{m||(m=p),p["x-decorator"]=void 0,p["x-decorator-props"]=void 0,p["x-read-pretty"]=!0}),o.concat(d(g(d({align:"center"},s),{key:c,dataIndex:i,render:(u,p)=>{const f=t.indexOf(p);return r($s,{index:f,children:r(Bs,{record:p,children:r(Z,{schema:a,name:f,onlyRenderProperties:!0})})})}}),m&&n&&s.filterable?Qs(m):void 0))},[]),Ys=z(({source:e,onSearch:t})=>{const n=ke(),{t:o}=F(),{grid:i,toggle:s,expanded:a,type:l}=ai(2),[c]=O.useForm(),m=[];e.forEach(y=>{var v;(v=y.schema["x-component-props"])!=null&&v.filterable&&y.schema.reduceProperties((N,C)=>{var w;C.title||(C.title=(w=y.schema["x-component-props"])==null?void 0:w.title),m.push(C)})});const u=()=>{const y=c.getFieldsValue();t==null||t(le.exports.pickBy(y,_))},p=()=>{c.resetFields(),t==null||t({})},f=()=>b(oe,{align:"right",style:{marginBottom:16,width:"100%",justifyContent:"end"},children:[r(P,{type:"primary",icon:r(So,{}),onClick:u,children:n.List.query},"submit"),r(P,{icon:r(Cn,{}),onClick:p,children:n.List.reset},"reset")]}),x=()=>l==="collapsible"?b(Fe,{children:[f(),r(oe,{align:"right",style:{marginLeft:8,marginTop:14},children:r(P,{type:"text",icon:a?r(pn,{}):r(fn,{}),onClick:s})})]}):f();return r("div",{style:{borderBottom:"1px solid var(--color-border-1)",display:"flex",marginBottom:16},children:r(O,{form:c,layout:"vertical",children:b(te,{grid:i,children:[m.map(y=>{var C,w;let v=null,N=1;switch(y["x-component"]){case"Checkbox":case"Switch":v=r(ne,{options:[{label:n.ListFilter.yes,value:!0},{label:n.ListFilter.no,value:!1}],allowClear:!0});break;case"DatePicker":case"DatePicker.RangePicker":v=r(se.RangePicker,{allowClear:!0,mode:(C=y["x-component-props"])==null?void 0:C.mode}),N=2;break;case"TimePicker":case"TimePicker.RangePicker":v=r(it.RangePicker,{allowClear:!0}),N=2;break;case"RecordSelect":const M=y.toJSON(!0);v=r($t,g(d({},M["x-component-props"]),{multiple:!0}));break;case"InputNumber":case"Money":case"Rate":case"Slider":default:(w=y.enum)!=null&&w.length?v=r(ne,{options:y.enum,mode:"multiple",allowClear:!0}):v=r(U,{allowClear:!0});break}return r(te.GridColumn,{gridSpan:N,children:r(O.Item,{label:o(y.title),field:y.name,style:{display:"block",marginBottom:16},children:v})},y.name)}),r(te.GridColumn,{gridSpan:-1,style:{display:"flex",justifyContent:"space-end",alignItems:"flex-end"},children:x()})]})})})}),Js=z(e=>{var c,m;const l=e,{reload:t}=l,n=L(l,["reload"]),o=R(),i=B(),s=Wn(),a=Us(s,(c=o.value)==null?void 0:c.slice(),e.filter==="light");return b(Fe,{children:[e.filter===!0&&r(Ys,{source:s,onSearch:u=>t==null?void 0:t({filter:u})}),r(Z,{schema:i,onlyRenderProperties:!0}),r(xn,g(d({rowKey:"id"},n),{columns:le.exports.sortBy(a==null?void 0:a.filter(u=>!u.hideInTable),"order"),data:(m=o.value)==null?void 0:m.slice()}))]})}),pr=z(e=>{var a;const t=h.exports.useContext(ue),n=R(),o=B(),i=h.exports.useMemo(()=>tt(),[]),s=Ps(i.createArrayField(g(d({},n.props),{basePath:""})));return h.exports.useEffect(()=>{var l;i.setValues({[o.name]:(l=t.tableProps)==null?void 0:l.data})},[(a=t.tableProps)==null?void 0:a.data]),r(No.Provider,{value:i,children:r(Mo.Provider,{value:s,children:r(Js,g(d(d({},e),t.tableProps),{reload:t.reload}))})})});pr.Column=()=>r(h.exports.Fragment,{});var Vs=pr;const Ot=z(e=>{var x,y,v,N;const t=((x=e.useProps)==null?void 0:x.call(e))||{},n=d(d({},e),t),o=re(n.forInit,g(d({},n.forInitVariables),{page:1,limit:10})),i=((y=o.data)==null?void 0:y.total)||0,{page:s=1,limit:a=10}=o.params[0]||{},l=C=>{C?o.run(d(d({page:s,limit:a},o.params[0]),C)):o.refresh()},c=(C,w)=>{let M=w<=0?1:w;const I=C<=0?1:C,E=Math.ceil(i/I);M>E&&(M=Math.max(1,E)),l({page:M,limit:I})},m=C=>{c(s,C)},u=(C,w,M)=>{l({page:C.current,limit:C.pageSize,filter:M,sorter:{[w.field]:w.direction==="ascend"?1:w.direction==="descend"?-1:0}})},[p,f]=h.exports.useState(((v=n.selection)==null?void 0:v.defaultSelectedKeys)||[]);return r(ue.Provider,{value:{result:o,reload:h.exports.useCallback(l,[]),tableProps:{data:((N=o.data)==null?void 0:N.list)||[],loading:o.loading,onChange:h.exports.useCallback(u,[]),pagination:i?{current:s,pageSize:a,total:i,onChange:c,onPageSizeChange:m}:!1,rowSelection:n.selection?{checkAll:_(n.selection.enableCheckAll)?n.selection.enableCheckAll:!0,type:n.selection.multiple?"checkbox":"radio",selectedRowKeys:p,preserveSelectedRowKeys:n.selection.preserveSelectedKeys,onChange:(C,w)=>{var M,I;(I=(M=n.selection)==null?void 0:M.onChange)==null||I.call(M,C,w),f(C)}}:void 0,filter:n.filter},selectedKeys:p},children:n.children})});Ot.Action=ye;Ot.Table=Vs;const ft=e=>e.icon?b(Fe,{children:[r(ae,{style:{fontSize:"18px",verticalAlign:"text-bottom"},type:e.icon}),r(Me,{children:e.title})]}):b(Fe,{children:[r("div",{style:{width:"12px",height:"18px",display:"inline-block"}}),r(Me,{children:e.title})]}),gr=(e=[])=>{const t=i=>Array.isArray(i.children)&&i&&i.children.length>0?r(pe.SubMenu,{title:ft(i),children:gr(i.children)},i.key||i.target||be()):r(pe.Item,{disabled:i.disabled,children:n(i)},i.key||i.target||be()),n=i=>{const s=o(i.target||"/");return ui(s)?r("div",{title:i.title,onClick:a=>{var l;a.stopPropagation(),a.preventDefault(),(l=window==null?void 0:window.open)==null||l.call(window,s)},children:ft(i)}):ft(i)},o=i=>i&&i.indexOf("http")===0?i:`/${i||""}`.replace(/\/+/g,"/");return e.map(i=>t(i)).filter(i=>i)},Hs=e=>{const o=e,{menuData:t}=o,n=L(o,["menuData"]);return r(pe,g(d({},n),{children:gr(t)}))},Xs=e=>e==="USD"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}):new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}),qs=e=>e==="USD"?"$":"\xA5",Ks=e=>{const i=e,{currency:t}=i,n=L(i,["currency"]),{t:o}=F();return r(wn,g(d({},n),{placeholder:n.placeholder?o(n.placeholder):void 0,min:0,prefix:qs(t),formatter:s=>s?`${s.toString().split(".").length===2?Number(s).toFixed(2):Number(s)}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:s=>s.replace(/,/g,"")}))},el=j(Ks,$(e=>{const{value:t,currency:n}=e;if(!_(e.value))return r("div",{children:"-"});const o=Xs(n);return r("div",{children:o.format(t)})})),ve=function(e){return e>=48&&e<=57},qe=function(e){return e>=97&&e<=122},Ke=function(e){return e>=65&&e<=90},nn=function(e){return!(qe(e)||Ke(e)||ve(e))},pt=function(e){return qe(e)||Ke(e)},tl=e=>{if(!e)return 0;let t=0,n=0,o=0,i=0,s=0,a=0,l=0,c=0,m=0;const u=()=>t+n+o+i,p=()=>{let y=t>0?1:0;return y+=n>0?1:0,y+=o>0?1:0,y+=i>0?1:0,y>2&&u()>=8?y+1:0};for(let y=0;y<e.length;y++){const v=e.charCodeAt(y);ve(v)?(t++,y!==0&&y!==e.length-1&&s++,y>0&&ve(e.charCodeAt(y-1))&&c++):qe(v)?(n++,y>0&&qe(e.charCodeAt(y-1))&&c++):Ke(v)?(o++,y>0&&Ke(e.charCodeAt(y-1))&&c++):(i++,y!==0&&y!==e.length-1&&s++);let N=!1;for(let C=0;C<e.length;C++)e[y]===e[C]&&y!==C&&(N=!0,l+=Math.abs(e.length/(C-y)));if(N){a++;const C=e.length-a;l=Math.ceil(C?l/C:l)}if(y>1){const C=e.charCodeAt(y-1),w=e.charCodeAt(y-2);if(pt(v)){if(pt(C)&&pt(w)){const M=e.toLowerCase(),I=M.charCodeAt(y),E=M.charCodeAt(y-1),G=M.charCodeAt(y-2);I-E===E-G&&Math.abs(I-E)===1&&m++}}else ve(v)?ve(C)&&ve(w)&&v-C===C-w&&Math.abs(v-C)===1&&m++:nn(C)&&nn(w)&&v-C===C-w&&Math.abs(v-C)===1&&m++}}let f=0;const x=u();return f+=4*x,n>0&&(f+=2*(x-n)),o>0&&(f+=2*(x-o)),t!==x&&(f+=4*t),f+=6*i,f+=2*s,f+=2*p(),x===n+o&&(f-=x),x===t&&(f-=t),f-=l,f-=2*c,f-=3*m,f=f<0?0:f,f=f>100?100:f,f>=80?100:f>=60?80:f>=40?60:f>=20?40:20},nl=e=>ee(e.children)?e.children(tl(String(e.value))):r(h.exports.Fragment,{children:e.children}),rl=j(e=>{const l=e,{value:t,className:n,checkStrength:o}=l,i=L(l,["value","className","checkStrength"]),s={position:"absolute",zIndex:1,height:8,top:0,background:"#fff",width:1,transform:"translate(-50%, 0)"},{t:a}=F();return b("span",{className:n||"",children:[r(U.Password,g(d({},i),{placeholder:i.placeholder?a(i.placeholder):void 0,value:t})),o&&r(nl,{value:String(t),children:c=>b("div",{style:{background:"#e0e0e0",marginBottom:3,position:"relative"},children:[r("div",{style:g(d({},s),{left:"20%"})}),r("div",{style:g(d({},s),{left:"40%"})}),r("div",{style:g(d({},s),{left:"60%"})}),r("div",{style:g(d({},s),{left:"80%"})}),r("div",{style:{position:"relative",backgroundImage:"-webkit-linear-gradient(left, #ff5500, #ff9300)",transition:"all 0.35s ease-in-out",height:8,width:"100%",marginTop:5,clipPath:`polygon(0 0,${c}% 0,${c}% 100%,0 100%)`}})]})})]})},$(e=>e.value?r("div",{children:"********"}):r("div",{children:"-"}))),Gt=j(K,H({value:"checked",onInput:"onChange"}));Gt.__ARCO_RADIO=!0;Gt.Group=j(K.Group,H({dataSource:"options"}),$(e=>{const{value:t}=e;if(!_(t))return r("div",{children:"-"});const o=R().dataSource||[];return r("div",{children:o.filter(i=>i.value===t).map((i,s)=>r(Se,{color:i.color,children:i.label},s))})}));const ol=s=>{var a=s,{forceClear:e,validate:t,onResetValidateSuccess:n,onResetValidateFailed:o}=a,i=L(a,["forceClear","validate","onResetValidateSuccess","onResetValidateFailed"]);const l=Lt(),c=B(),{t:m}=F();return r(P,g(d({},i),{onClick:u=>{i.onClick&&i.onClick(u)===!1||l.reset("*",{forceClear:e,validate:t}).then(n).catch(o)},children:m((c==null?void 0:c["x-content"])||(c==null?void 0:c.title))}))},bt=(e,t)=>{e=Le(e).map(o=>typeof o=="object"?o.value:o);const n=o=>{let i=[];for(const s of o){e.includes(s.value)&&i.push(s);const a=s.options;Array.isArray(a)&&i.push(...n(a))}return i};return n(t)},il=e=>!_(e)||typeof e=="object"&&Object.keys(e).length===0,sl=e=>{const l=e,{value:t,options:n,onChange:o,mode:i}=l,s=L(l,["value","options","onChange","mode"]);return r(ne,d({value:(c=>{var p;if(il(c))return;const m=Le(c).filter(f=>f).map(f=>typeof f=="object"?f.value:f),u=(p=bt(m,n))==null?void 0:p.map(f=>({label:f.label,value:f.value}));return i&&["tags","multiple"].includes(i)?u:u.shift()})(t),allowClear:!0,labelInValue:!0,options:n,onChange:c=>{const m=bt(Le(c).map(u=>u.value),n);i&&["tags","multiple"].includes(i)?o==null||o(m,n):o==null||o(m.shift(),n)},mode:i},s))},ll=z(e=>{var i;const t=R();if(!_(e.value))return r("div",{children:"-"});if(Io(t)&&((i=t==null?void 0:t.value)==null?void 0:i.length)===0)return r("div",{children:"-"});const n=t.dataSource||e.options||[],o=bt(t.value,n);return r(V,{wrap:!0,children:o.map((s,a)=>r(Se,{color:s.color,children:s.label},a))})}),al=j(e=>{const i=e,{objectValue:t}=i,n=L(i,["objectValue"]),{t:o}=F();return t?r(sl,g(d({},n),{placeholder:n.placeholder?o(n.placeholder):void 0})):r(ne,g(d({},n),{placeholder:n.placeholder?o(n.placeholder):void 0,value:n.value||void 0}))},H({dataSource:"options",loading:!0},(e,t)=>g(d({},e),{suffixIcon:(t==null?void 0:t.loading)||(t==null?void 0:t.validating)?r(Be,{}):e.suffixIcon})),$(ll)),cl=e=>{var i;const t=B(),n=Oe();let{split:o}=e;return o==="divider"&&(o=r(ot,{type:"vertical",style:{margin:"0 2px"}})),r(V,g(d({size:(i=e.size)!=null?i:n==null?void 0:n.spaceGap},e),{split:o,children:t.mapProperties((s,a)=>r(Z,{name:a,schema:s},a))}))},ul=j(Ao,H({value:"checked"})),yr=e=>{const t=B(),{t:n}=F();return r(Vt,g(d({},e),{children:t.mapProperties((o,i)=>{var s,a;return r(Vt.TabPane,{title:(s=o["x-component-props"])!=null&&s.icon?b("span",{children:[r(ae,{type:(a=o["x-component-props"])==null?void 0:a.icon,style:{marginRight:6}}),n(o.title)]}):n(o.title),children:r(Z,{name:i,schema:o,onlyRenderProperties:!0})},i)})}))};yr.TabPane=()=>r(h.exports.Fragment,{});const xr=e=>{const t=()=>et(e.value)?e.value.join("~"):e.value;return r("div",{className:e.className,style:e.style,children:t()})},Cr=j(it,$(xr));Cr.RangePicker=j(it.RangePicker,$(xr));const dl=e=>{const t=Array.isArray(e)?e:e?[e]:[];return t&&t.length?t.map((n,o)=>({uid:`${o}`,url:n})):[]},ml=j(e=>{const i=e,{onChange:t,value:n}=i,o=L(i,["onChange","value"]);return r(Nn,g(d({},o),{withCredentials:!0,defaultFileList:dl(n),onChange:s=>{t==null||t(s.map(a=>a.url))}}))},$(e=>{const{value:t}=e;return _(t)?r(V,{direction:"vertical",children:r(Ht.PreviewGroup,{infinite:!0,children:r(V,{children:t.map((n,o)=>r(Ht,{src:n,width:80},o))})})}):r("div",{children:"-"})})),hl=j(e=>{const c=e,{onChange:t,value:n}=c,o=L(c,["onChange","value"]),[i,s]=h.exports.useState({url:n,uid:"-1"}),a=$e(),l=`${a}-upload-list-item${i&&i.status==="error"?" is-error":""}`;return r(Nn,g(d({},o),{withCredentials:!0,showUploadList:!1,onChange:(m,u)=>{if(u.status=="done"){const{data:p={}}=u.response;t==null||t(p.url),s(g(d({},i),{url:p.url}))}},children:r("div",{className:l,style:{marginTop:0},children:i&&i.url?b("div",{className:`${a}-upload-list-item-picture custom-upload-avatar`,children:[r("img",{src:i.url}),r("div",{className:`${a}-upload-list-item-picture-mask`,children:r(ko,{})}),i.status==="uploading"&&(i.percent||0)<100&&r(Do,{percent:i.percent||0,type:"circle",size:"mini",style:{position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"}})]}):r("div",{className:`${a}-upload-trigger-picture`,children:r("div",{className:`${a}-upload-trigger-picture-text`,children:r(hn,{})})})})}))},$(e=>{const{value:t}=e;return _(t)?r(He,{children:r("img",{alt:"avatar",src:t})}):r("div",{children:"-"})})),Zt=e=>r(h.exports.Fragment,{});Zt.Attachment=ml;Zt.Avatar=hl;const fl=g(d({},Eo),{Chart:{nodata:"\u6682\u65E0\u6570\u636E"},ColorSelect:{red:"\u6D6A\u6F2B\u7EA2",orangered:"\u665A\u79CB\u9EC4",orange:"\u6D3B\u529B\u6A59",gold:"\u9EC4\u660F",lime:"\u65B0\u751F\u7EFF",green:"\u4ED9\u91CE\u7EFF",cyan:"\u78A7\u6D9B\u9752",blue:"\u6D77\u851A\u84DD",arcobule:"\u6781\u81F4\u84DD",purple:"\u6697\u591C\u7D2B",pinkpurple:"\u9752\u6625\u7D2B",magenta:"\u54C1\u7EA2",gray:"\u4E2D\u6027\u7070"},List:{query:"\u67E5\u8BE2",reset:"\u91CD\u7F6E",search:"\u641C\u7D22",confirmDelete:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F"},ListFilter:{yes:"\u662F",no:"\u5426"},RecordPicker:{drawerTitle:"\u8BF7\u9009\u62E9"}}),pl=g(d({},zo),{Chart:{nodata:"No Data"},ColorSelect:{red:"Red",orangered:"Orangered",orange:"Orange",gold:"Gold",lime:"Lime",green:"Green",cyan:"Cyan",blue:"Blue",arcobule:"Arco Blue",purple:"Purple",pinkpurple:"Pink Purple",magenta:"Magenta",gray:"Gray"},List:{query:"Query",reset:"Reset",search:"Search",confirmDelete:"Are you sure you want to delete?"},ListFilter:{yes:"Yes",no:"No"},RecordPicker:{drawerTitle:"Please select"}}),dt=()=>r("div",{style:{width:"100vw",height:"100vh",position:"relative"},children:r(Mn,{size:100,tip:"Loading...",style:{position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"}})}),gl=({children:e})=>e||null,yl=(...e)=>{const t=[...e,gl].reduce((n,o)=>{const[i,s]=Array.isArray(n)?n:[n],[a,l]=Array.isArray(o)?o:[o];return({children:c})=>r(i,g(d({},s),{children:r(a,g(d({},l),{children:c}))}))});return n=>o=>r(h.exports.Suspense,{fallback:r(dt,{}),children:r(t,{children:n&&r(n,d({},o))})})};h.exports.createContext({});const xl=h.exports.createContext({title:null,setTitle(){}}),Cl=e=>{const{addonBefore:t,addonAfter:n}=e,[o,i]=h.exports.useState(""),s=o?`${t?`${t} | `:""}${o||""}${n?` | ${n}`:""}`:"Li Admin";return b(xl.Provider,{value:{title:o,setTitle:i},children:[r(Po,{children:r("title",{children:s})}),e.children]})},vl=()=>{try{return JSON.parse(localStorage.getItem("li-lang")||'""')}catch{return}},vr=jo.createInstance();vr.use(To).use(Fo).init({debug:!1,lng:vl()||navigator.language,supportedLngs:["en-US","zh-CN"],preload:["en-US","zh-CN"],backend:{loadPath:"/locales/{{lng}}.json"}});const wr=e=>h.exports.createElement("svg",d({width:33,height:33,viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.exports.createElement("g",{clipPath:"url(#clip0)"},h.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.37754 16.9795L12.7498 9.43027C14.7163 7.41663 17.9428 7.37837 19.9564 9.34482C19.9852 9.37297 20.0137 9.40145 20.0418 9.43027L20.1221 9.51243C22.1049 11.5429 22.1049 14.7847 20.1221 16.8152L12.7498 24.3644C10.7834 26.378 7.55686 26.4163 5.54322 24.4498C5.5144 24.4217 5.48592 24.3932 5.45777 24.3644L5.37754 24.2822C3.39468 22.2518 3.39468 19.0099 5.37754 16.9795Z",fill:"#12D2AC"}),h.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0479 9.43034L27.3399 16.8974C29.3674 18.9735 29.3674 22.2883 27.3399 24.3644C25.3735 26.3781 22.147 26.4163 20.1333 24.4499C20.1045 24.4217 20.076 24.3933 20.0479 24.3644L12.7558 16.8974C10.7284 14.8213 10.7284 11.5065 12.7558 9.43034C14.7223 7.4167 17.9488 7.37844 19.9624 9.34489C19.9912 9.37304 20.0197 9.40152 20.0479 9.43034Z",fill:"#307AF2"}),h.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.1321 9.52163L23.6851 13.1599L16.3931 20.627L9.10103 13.1599L12.6541 9.52163C14.6707 7.45664 17.9794 7.4174 20.0444 9.434C20.074 9.46286 20.1032 9.49207 20.1321 9.52163Z",fill:"#0057FE"})),h.exports.createElement("defs",null,h.exports.createElement("clipPath",{id:"clip0"},h.exports.createElement("rect",{width:26,height:19,fill:"white",transform:"translate(3.5 7)"})))),wl=e=>e,bl=(e,t,n)=>{const o=JSON.parse(e);return t==null||t.forEach(i=>{le.exports.unset(o,n?le.exports.trimStart(i,n+"."):i)}),o},rn=()=>r("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:r(Mn,{})}),Nl=e=>{const{hidden:t,scope:n,uid:o,onSuccess:i,schemaTransform:s=wl}=e,{reset:a}=js(),{data:l,loading:c}=re("@getAppView",{key:o},{refreshDeps:[o],onSuccess(m){i&&i(m),a&&a()}});return c?r(rn,{}):t?r(rn,{}):r(Ie,{memoized:!0,scope:n,schema:s(l?bl(l.schema,l.removes,o):{})})},Ml=e=>e.uid?r(Nl,d({},e)):null,Ll="_layout_1z0hu_1",Sl="_icon_1z0hu_87",Il="_spin_1z0hu_109",Al="_navbar_1z0hu_116",kl="_left_1z0hu_124",Dl="_logo_1z0hu_128",El="_right_1z0hu_142",zl="_username_1z0hu_156",Pl="_round_1z0hu_159";var Q={layout:Ll,"layout-navbar":"_layout-navbar_1z0hu_5","layout-navbar-hidden":"_layout-navbar-hidden_1z0hu_14","layout-sider":"_layout-sider_1z0hu_17","collapse-btn":"_collapse-btn_1z0hu_51","menu-wrapper":"_menu-wrapper_1z0hu_68",icon:Sl,"icon-empty":"_icon-empty_1z0hu_91","layout-content":"_layout-content_1z0hu_96","layout-content-wrapper":"_layout-content-wrapper_1z0hu_103","layout-breadcrumb":"_layout-breadcrumb_1z0hu_106",spin:Il,navbar:Al,left:kl,logo:Dl,"logo-name":"_logo-name_1z0hu_135",right:El,username:zl,round:Pl,"dropdown-icon":"_dropdown-icon_1z0hu_165","fixed-settings":"_fixed-settings_1z0hu_170"};const mt=h.exports.createContext({}),br=(e,t)=>(t||[]).reduce((n,o)=>{if(e==o.key){const i=o.path.split(".");return n.concat(i.slice(0,i.length-1))}return o.children?n.concat(br(e,o.children)||[]):n},[]),jl=()=>{var p,f,x,y,v,N,C,w,M,I;const e=Ro(),t=Bo(),n=h.exports.useContext(mt),o=re("@getCurrentUser"),{t:i}=Ln(),[s,a]=h.exports.useState(!1),l=(t==null?void 0:t["*"])||((p=n.app)==null?void 0:p.home)||((x=(f=n.app)==null?void 0:f.menus[0])==null?void 0:x.key),c=[l],m=br(l,(y=n.app)==null?void 0:y.menus),u=E=>{var G;Xt.start(),e(((G=n.app)==null?void 0:G.entry)+`/${E}`),Xt.done()};return h.exports.useEffect(()=>{var E;$o(o.data)||(E=n.setCurrentUser)==null||E.call(n,o.data)},[o.data]),o.loading?r(dt,{}):o.error?r(Sn,{to:((v=n.app)==null?void 0:v.entry)+"/sign"}):b(Ce,{className:Q.layout,children:[r("div",{className:Q["layout-navbar"],children:b("div",{className:Q.navbar,children:[r("div",{className:Q.left,children:b("div",{className:Q.logo,children:[(N=n.app)!=null&&N.logo?r("img",{src:(C=n.app)==null?void 0:C.logo}):r(wr,{}),r("div",{className:Q["logo-name"],children:(w=n.app)==null?void 0:w.title})]})}),r("ul",{className:Q.right,children:(M=n.app)==null?void 0:M.navitems.map((E,G)=>r("li",{children:r(Ie,{schema:E,scope:{global:n,t:i}})},G.toString()))})]})}),b(Ce,{children:[b(Ce.Sider,{className:Q["layout-sider"],collapsed:s,onCollapse:a,trigger:null,collapsible:!0,breakpoint:"xl",width:s?48:220,style:{paddingTop:60},children:[r("div",{className:Q["menu-wrapper"],children:r(Ie,{schema:{type:"void",properties:{menu:{"x-component":"Menu","x-component-props":{defaultSelectedKeys:c,defaultOpenKeys:m,menuData:(I=n.app)==null?void 0:I.menus,collapse:s,onClickMenuItem:u}}}},scope:{global:n,t:i}})}),r("div",{className:Q["collapse-btn"],onClick:()=>a(E=>!E),children:s?r(Oo,{}):r(Go,{})})]}),r(Ce,{className:Q["layout-content"],style:{paddingTop:60,paddingLeft:s?48:220},children:r("div",{className:Q["layout-content-wrapper"],children:r(Ce.Content,{children:r(Ml,{uid:l})})})})]})]})};h.exports.createContext({});h.exports.createContext(null);const Nr=h.exports.createContext({components:{}}),Tl=h.exports.createContext({path:"/"});function Fl(e){if(!e)return()=>null;const{components:t}=h.exports.useContext(Nr);return Zo(t,e)||(()=>null)}function Rl(e){const{routes:t=[]}=e;return t.length?r(Wo,{children:t.map((n,o)=>r(_o,{path:n.path,index:n.index,element:n.redirect?r(Sn,{to:n.redirect}):r(Tl.Provider,{value:n,children:r(Bl,{component:n.component})})},o))}):null}function Bl(e){const t=Fl(e.component);return r(t,{})}function $l(e){const{children:t,components:n}=e;return r(Nr.Provider,{value:{components:n},children:t})}const Mr=In(e=>{const{lang:t,setLang:n}=h.exports.useContext(mt);return r(Qo,{triggerElement:r(An,{shape:"circle",type:"secondary",style:g(d({},e.triggerElementStyle),{fontSize:"16px"}),icon:r(Uo,{})}),options:[{label:"\u4E2D\u6587",value:"zh-CN"},{label:"English",value:"en-US"}],value:t,triggerProps:g(d({},e.triggerProps),{autoAlignPopupWidth:!1,autoAlignPopupMinWidth:!0}),trigger:"hover",onChange:o=>{n==null||n(o)}})}),Ol=In(e=>{const{theme:t,setTheme:n}=h.exports.useContext(mt);return r(An,g(d({shape:"circle",type:"secondary",style:{fontSize:"16px"}},e),{icon:t==="dark"?r(Yo,{}):r(Jo,{}),onClick:()=>n==null?void 0:n(t==="light"?"dark":"light")}))}),Gl="_container_1fh09_1",Zl="_lang_1fh09_7",Wl="_top_1fh09_13",_l="_header_1fh09_17",Ql="_logo_1fh09_28",Ul="_title_1fh09_37",Yl="_desc_1fh09_42",Jl="_content_1fh09_48",Vl="_footer_1fh09_53",Hl="_icon_1fh09_68";var q={container:Gl,lang:Zl,top:Wl,header:_l,logo:Ql,title:Ul,desc:Yl,content:Jl,footer:Vl,icon:Hl};const Xl=e=>{const{data:t={},loading:n}=re("@getSignView");if(n)return r(dt,{});const{title:o="Li Admin",description:i,copyright:s="Li Admin",logo:a,body:l={}}=t;return b("div",{className:q.container,children:[r("div",{className:q.lang,children:r(Mr,{triggerElementStyle:{marginRight:24},triggerProps:{position:"br"}})}),b("div",{className:q.content,children:[b("div",{className:q.top,children:[b("div",{className:q.header,children:[r("span",{className:q.logo,children:a?r("img",{src:a}):r(wr,{})}),r("span",{className:q.title,children:o})]}),i?r("div",{className:q.desc,children:i}):null]}),r(Ie,{schema:l})]}),r(Ce.Footer,{className:q.footer,children:s})]})};const ql=[[Vo,{i18n:vr}],[Ws,{components:{Link:Ho,NavLink:Xo,LangSwitch:Mr,ThemeSwitch:Ol}}],Bt,[Cl,{addonAfter:"Li"}],[$l,{components:{SignPage:Xl,Layout:jl}}]],Kl=yl(...ql)(()=>{var f;const[e,t]=qt("li-theme",{defaultValue:(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches?"dark":"light"}),[n,o]=qt("li-lang",{defaultValue:navigator.language}),[i,s]=h.exports.useState({}),{t:a,i18n:l}=Ln(),{data:c,loading:m}=re("@getAppConfig"),u=(c==null?void 0:c.entry)||"/admin";if(h.exports.useEffect(()=>{e==="dark"?document.body.setAttribute("arco-theme","dark"):document.body.removeAttribute("arco-theme")},[e]),h.exports.useEffect(()=>{l.changeLanguage(n)},[n]),m)return r(dt,{});const p={app:g(d({},c),{title:a((c==null?void 0:c.title)||"Li Admin"),entry:u}),lang:n,setLang:o,theme:e,setTheme:t,currentUser:i,setCurrentUser:s};return r(qo,{children:r(Ko,{locale:n==="en-US"?pl:fl,componentConfig:{Card:{bordered:!1},List:{bordered:!1},Table:{border:!1}},children:r(mt.Provider,{value:p,children:r(Rl,{routes:[{path:"/",redirect:u,title:p.app.title},{path:u+"/sign",component:"SignPage",title:p.app.title},{path:u+"/*",component:"Layout",title:p.app.title}]})})})})});ln(document.getElementById("root")).render(r(Kl,{}));
